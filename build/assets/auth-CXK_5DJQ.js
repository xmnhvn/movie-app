import{a as r,s as o}from"./index-BkBqn8Ox.js";async function c(t,a){const n=await r.post("/auth/signup",{username:t,password:a}),{user:s,token:e}=n.data;if(e){try{localStorage.setItem("gowatch_token",e)}catch{}o(e)}return s}async function i(t,a){const n=await r.post("/auth/login",{username:t,password:a}),{user:s,token:e}=n.data;if(e){try{localStorage.setItem("gowatch_token",e)}catch{}o(e)}return s}async function p(t){return(await r.put("/user",t)).data.user}async function d(t){const a=new FormData;return a.append("avatar",t),(await r.post("/user/avatar",a,{headers:{"Content-Type":"multipart/form-data"}})).data.user}async function f(){return(await r.delete("/user/avatar")).data.user}export{i as login,f as removeAvatar,c as signup,p as updateProfile,d as uploadAvatar};

module.exports=[12967,a=>a.a(async(b,c)=>{try{let b=await a.y("axios");a.n(b),c()}catch(a){c(a)}},!0),38190,a=>a.a(async(b,c)=>{try{var d=a.i(12967),e=b([d]);[d]=e.then?(await e)():e;let h={get url(){return`file://${a.P("Projects/GoWatch/src/lib/api.ts")}`}},i=h.env&&h.env.VITE_API_URL||"",j=i?i.replace(/\/$/,""):"",k=j?`${j}/api`:"/api",l=d.default.create({baseURL:k});function f(a){a?l.defaults.headers.common.Authorization=`Bearer ${a}`:delete l.defaults.headers.common.Authorization}function g(a){return a?/^https?:\/\//i.test(a)?a:j&&a.startsWith("/")?`${j}${a}`:a:""}try{let a=localStorage.getItem("gowatch_token");a&&f(a)}catch(a){}l.interceptors.response.use(a=>a,a=>{let b=a?.response?.status;if(401===b){try{localStorage.removeItem("gowatch_token")}catch{}try{localStorage.removeItem("gowatch_user")}catch{}try{f(null)}catch{}try{window.dispatchEvent(new CustomEvent("gowatch:openAuth",{detail:{message:"Session expired. Please sign in again."}}))}catch{}}return Promise.reject(a)}),a.s(["api",0,l,"mediaUrl",()=>g,"setAuthToken",()=>f]),c()}catch(a){c(a)}},!1),15744,a=>a.a(async(b,c)=>{try{var d=a.i(38190),e=b([d]);async function f(a="demo"){return(await d.api.post("/users",{username:a})).data.user}async function g(a){return(await d.api.post("/watchlist",{movie:a})).data}async function h(a){return(await d.api.delete(`/watchlist/${encodeURIComponent(a)}`)).data}async function i(){return(await d.api.get("/watchlist")).data.watchlist}[d]=e.then?(await e)():e,a.s(["addToWatchlist",()=>g,"ensureDemoUser",()=>f,"getWatchlist",()=>i,"removeFromWatchlist",()=>h]),c()}catch(a){c(a)}},!1),65333,a=>{a.v(b=>Promise.all(["server/chunks/ssr/Projects_GoWatch_src_lib_auth_ts_9fb069d7._.js"].map(b=>a.l(b))).then(()=>b(84716)))},62035,a=>{a.v(a=>Promise.resolve().then(()=>a(15744)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__597adc72._.js.map
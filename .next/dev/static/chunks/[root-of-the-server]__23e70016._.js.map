{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[turbopack]/browser/dev/hmr-client/hmr-client.ts"],"sourcesContent":["/// <reference path=\"../../../shared/runtime-types.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-globals.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-protocol.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-extensions.ts\" />\r\n\r\ntype SendMessage = (msg: any) => void\r\nexport type WebSocketMessage =\r\n  | {\r\n      type: 'turbopack-connected'\r\n    }\r\n  | {\r\n      type: 'turbopack-message'\r\n      data: Record<string, any>\r\n    }\r\n\r\nexport type ClientOptions = {\r\n  addMessageListener: (cb: (msg: WebSocketMessage) => void) => void\r\n  sendMessage: SendMessage\r\n  onUpdateError: (err: unknown) => void\r\n}\r\n\r\nexport function connect({\r\n  addMessageListener,\r\n  sendMessage,\r\n  onUpdateError = console.error,\r\n}: ClientOptions) {\r\n  addMessageListener((msg) => {\r\n    switch (msg.type) {\r\n      case 'turbopack-connected':\r\n        handleSocketConnected(sendMessage)\r\n        break\r\n      default:\r\n        try {\r\n          if (Array.isArray(msg.data)) {\r\n            for (let i = 0; i < msg.data.length; i++) {\r\n              handleSocketMessage(msg.data[i] as ServerMessage)\r\n            }\r\n          } else {\r\n            handleSocketMessage(msg.data as ServerMessage)\r\n          }\r\n          applyAggregatedUpdates()\r\n        } catch (e: unknown) {\r\n          console.warn(\r\n            '[Fast Refresh] performing full reload\\n\\n' +\r\n              \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" +\r\n              'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' +\r\n              'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' +\r\n              'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' +\r\n              'Fast Refresh requires at least one parent function component in your React tree.'\r\n          )\r\n          onUpdateError(e)\r\n          location.reload()\r\n        }\r\n        break\r\n    }\r\n  })\r\n\r\n  const queued = globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS\r\n  if (queued != null && !Array.isArray(queued)) {\r\n    throw new Error('A separate HMR handler was already registered')\r\n  }\r\n  globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS = {\r\n    push: ([chunkPath, callback]: [ChunkListPath, UpdateCallback]) => {\r\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\r\n    },\r\n  }\r\n\r\n  if (Array.isArray(queued)) {\r\n    for (const [chunkPath, callback] of queued) {\r\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\r\n    }\r\n  }\r\n}\r\n\r\ntype UpdateCallbackSet = {\r\n  callbacks: Set<UpdateCallback>\r\n  unsubscribe: () => void\r\n}\r\n\r\nconst updateCallbackSets: Map<ResourceKey, UpdateCallbackSet> = new Map()\r\n\r\nfunction sendJSON(sendMessage: SendMessage, message: ClientMessage) {\r\n  sendMessage(JSON.stringify(message))\r\n}\r\n\r\ntype ResourceKey = string\r\n\r\nfunction resourceKey(resource: ResourceIdentifier): ResourceKey {\r\n  return JSON.stringify({\r\n    path: resource.path,\r\n    headers: resource.headers || null,\r\n  })\r\n}\r\n\r\nfunction subscribeToUpdates(\r\n  sendMessage: SendMessage,\r\n  resource: ResourceIdentifier\r\n): () => void {\r\n  sendJSON(sendMessage, {\r\n    type: 'turbopack-subscribe',\r\n    ...resource,\r\n  })\r\n\r\n  return () => {\r\n    sendJSON(sendMessage, {\r\n      type: 'turbopack-unsubscribe',\r\n      ...resource,\r\n    })\r\n  }\r\n}\r\n\r\nfunction handleSocketConnected(sendMessage: SendMessage) {\r\n  for (const key of updateCallbackSets.keys()) {\r\n    subscribeToUpdates(sendMessage, JSON.parse(key))\r\n  }\r\n}\r\n\r\n// we aggregate all pending updates until the issues are resolved\r\nconst chunkListsWithPendingUpdates: Map<ResourceKey, PartialServerMessage> =\r\n  new Map()\r\n\r\nfunction aggregateUpdates(msg: PartialServerMessage) {\r\n  const key = resourceKey(msg.resource)\r\n  let aggregated = chunkListsWithPendingUpdates.get(key)\r\n\r\n  if (aggregated) {\r\n    aggregated.instruction = mergeChunkListUpdates(\r\n      aggregated.instruction,\r\n      msg.instruction\r\n    )\r\n  } else {\r\n    chunkListsWithPendingUpdates.set(key, msg)\r\n  }\r\n}\r\n\r\nfunction applyAggregatedUpdates() {\r\n  if (chunkListsWithPendingUpdates.size === 0) return\r\n  hooks.beforeRefresh()\r\n  for (const msg of chunkListsWithPendingUpdates.values()) {\r\n    triggerUpdate(msg)\r\n  }\r\n  chunkListsWithPendingUpdates.clear()\r\n  finalizeUpdate()\r\n}\r\n\r\nfunction mergeChunkListUpdates(\r\n  updateA: ChunkListUpdate,\r\n  updateB: ChunkListUpdate\r\n): ChunkListUpdate {\r\n  let chunks\r\n  if (updateA.chunks != null) {\r\n    if (updateB.chunks == null) {\r\n      chunks = updateA.chunks\r\n    } else {\r\n      chunks = mergeChunkListChunks(updateA.chunks, updateB.chunks)\r\n    }\r\n  } else if (updateB.chunks != null) {\r\n    chunks = updateB.chunks\r\n  }\r\n\r\n  let merged\r\n  if (updateA.merged != null) {\r\n    if (updateB.merged == null) {\r\n      merged = updateA.merged\r\n    } else {\r\n      // Since `merged` is an array of updates, we need to merge them all into\r\n      // one, consistent update.\r\n      // Since there can only be `EcmascriptMergeUpdates` in the array, there is\r\n      // no need to key on the `type` field.\r\n      let update = updateA.merged[0]\r\n      for (let i = 1; i < updateA.merged.length; i++) {\r\n        update = mergeChunkListEcmascriptMergedUpdates(\r\n          update,\r\n          updateA.merged[i]\r\n        )\r\n      }\r\n\r\n      for (let i = 0; i < updateB.merged.length; i++) {\r\n        update = mergeChunkListEcmascriptMergedUpdates(\r\n          update,\r\n          updateB.merged[i]\r\n        )\r\n      }\r\n\r\n      merged = [update]\r\n    }\r\n  } else if (updateB.merged != null) {\r\n    merged = updateB.merged\r\n  }\r\n\r\n  return {\r\n    type: 'ChunkListUpdate',\r\n    chunks,\r\n    merged,\r\n  }\r\n}\r\n\r\nfunction mergeChunkListChunks(\r\n  chunksA: Record<ChunkPath, ChunkUpdate>,\r\n  chunksB: Record<ChunkPath, ChunkUpdate>\r\n): Record<ChunkPath, ChunkUpdate> {\r\n  const chunks: Record<ChunkPath, ChunkUpdate> = {}\r\n\r\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\r\n    [ChunkPath, ChunkUpdate]\r\n  >) {\r\n    const chunkUpdateB = chunksB[chunkPath]\r\n    if (chunkUpdateB != null) {\r\n      const mergedUpdate = mergeChunkUpdates(chunkUpdateA, chunkUpdateB)\r\n      if (mergedUpdate != null) {\r\n        chunks[chunkPath] = mergedUpdate\r\n      }\r\n    } else {\r\n      chunks[chunkPath] = chunkUpdateA\r\n    }\r\n  }\r\n\r\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\r\n    [ChunkPath, ChunkUpdate]\r\n  >) {\r\n    if (chunks[chunkPath] == null) {\r\n      chunks[chunkPath] = chunkUpdateB\r\n    }\r\n  }\r\n\r\n  return chunks\r\n}\r\n\r\nfunction mergeChunkUpdates(\r\n  updateA: ChunkUpdate,\r\n  updateB: ChunkUpdate\r\n): ChunkUpdate | undefined {\r\n  if (\r\n    (updateA.type === 'added' && updateB.type === 'deleted') ||\r\n    (updateA.type === 'deleted' && updateB.type === 'added')\r\n  ) {\r\n    return undefined\r\n  }\r\n\r\n  if (updateA.type === 'partial') {\r\n    invariant(updateA.instruction, 'Partial updates are unsupported')\r\n  }\r\n\r\n  if (updateB.type === 'partial') {\r\n    invariant(updateB.instruction, 'Partial updates are unsupported')\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\nfunction mergeChunkListEcmascriptMergedUpdates(\r\n  mergedA: EcmascriptMergedUpdate,\r\n  mergedB: EcmascriptMergedUpdate\r\n): EcmascriptMergedUpdate {\r\n  const entries = mergeEcmascriptChunkEntries(mergedA.entries, mergedB.entries)\r\n  const chunks = mergeEcmascriptChunksUpdates(mergedA.chunks, mergedB.chunks)\r\n\r\n  return {\r\n    type: 'EcmascriptMergedUpdate',\r\n    entries,\r\n    chunks,\r\n  }\r\n}\r\n\r\nfunction mergeEcmascriptChunkEntries(\r\n  entriesA: Record<ModuleId, EcmascriptModuleEntry> | undefined,\r\n  entriesB: Record<ModuleId, EcmascriptModuleEntry> | undefined\r\n): Record<ModuleId, EcmascriptModuleEntry> {\r\n  return { ...entriesA, ...entriesB }\r\n}\r\n\r\nfunction mergeEcmascriptChunksUpdates(\r\n  chunksA: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined,\r\n  chunksB: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined\r\n): Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined {\r\n  if (chunksA == null) {\r\n    return chunksB\r\n  }\r\n\r\n  if (chunksB == null) {\r\n    return chunksA\r\n  }\r\n\r\n  const chunks: Record<ChunkPath, EcmascriptMergedChunkUpdate> = {}\r\n\r\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\r\n    [ChunkPath, EcmascriptMergedChunkUpdate]\r\n  >) {\r\n    const chunkUpdateB = chunksB[chunkPath]\r\n    if (chunkUpdateB != null) {\r\n      const mergedUpdate = mergeEcmascriptChunkUpdates(\r\n        chunkUpdateA,\r\n        chunkUpdateB\r\n      )\r\n      if (mergedUpdate != null) {\r\n        chunks[chunkPath] = mergedUpdate\r\n      }\r\n    } else {\r\n      chunks[chunkPath] = chunkUpdateA\r\n    }\r\n  }\r\n\r\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\r\n    [ChunkPath, EcmascriptMergedChunkUpdate]\r\n  >) {\r\n    if (chunks[chunkPath] == null) {\r\n      chunks[chunkPath] = chunkUpdateB\r\n    }\r\n  }\r\n\r\n  if (Object.keys(chunks).length === 0) {\r\n    return undefined\r\n  }\r\n\r\n  return chunks\r\n}\r\n\r\nfunction mergeEcmascriptChunkUpdates(\r\n  updateA: EcmascriptMergedChunkUpdate,\r\n  updateB: EcmascriptMergedChunkUpdate\r\n): EcmascriptMergedChunkUpdate | undefined {\r\n  if (updateA.type === 'added' && updateB.type === 'deleted') {\r\n    // These two completely cancel each other out.\r\n    return undefined\r\n  }\r\n\r\n  if (updateA.type === 'deleted' && updateB.type === 'added') {\r\n    const added = []\r\n    const deleted = []\r\n    const deletedModules = new Set(updateA.modules ?? [])\r\n    const addedModules = new Set(updateB.modules ?? [])\r\n\r\n    for (const moduleId of addedModules) {\r\n      if (!deletedModules.has(moduleId)) {\r\n        added.push(moduleId)\r\n      }\r\n    }\r\n\r\n    for (const moduleId of deletedModules) {\r\n      if (!addedModules.has(moduleId)) {\r\n        deleted.push(moduleId)\r\n      }\r\n    }\r\n\r\n    if (added.length === 0 && deleted.length === 0) {\r\n      return undefined\r\n    }\r\n\r\n    return {\r\n      type: 'partial',\r\n      added,\r\n      deleted,\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'partial' && updateB.type === 'partial') {\r\n    const added = new Set([...(updateA.added ?? []), ...(updateB.added ?? [])])\r\n    const deleted = new Set([\r\n      ...(updateA.deleted ?? []),\r\n      ...(updateB.deleted ?? []),\r\n    ])\r\n\r\n    if (updateB.added != null) {\r\n      for (const moduleId of updateB.added) {\r\n        deleted.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    if (updateB.deleted != null) {\r\n      for (const moduleId of updateB.deleted) {\r\n        added.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    return {\r\n      type: 'partial',\r\n      added: [...added],\r\n      deleted: [...deleted],\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'added' && updateB.type === 'partial') {\r\n    const modules = new Set([\r\n      ...(updateA.modules ?? []),\r\n      ...(updateB.added ?? []),\r\n    ])\r\n\r\n    for (const moduleId of updateB.deleted ?? []) {\r\n      modules.delete(moduleId)\r\n    }\r\n\r\n    return {\r\n      type: 'added',\r\n      modules: [...modules],\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'partial' && updateB.type === 'deleted') {\r\n    // We could eagerly return `updateB` here, but this would potentially be\r\n    // incorrect if `updateA` has added modules.\r\n\r\n    const modules = new Set(updateB.modules ?? [])\r\n\r\n    if (updateA.added != null) {\r\n      for (const moduleId of updateA.added) {\r\n        modules.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    return {\r\n      type: 'deleted',\r\n      modules: [...modules],\r\n    }\r\n  }\r\n\r\n  // Any other update combination is invalid.\r\n\r\n  return undefined\r\n}\r\n\r\nfunction invariant(_: never, message: string): never {\r\n  throw new Error(`Invariant: ${message}`)\r\n}\r\n\r\nconst CRITICAL = ['bug', 'error', 'fatal']\r\n\r\nfunction compareByList(list: any[], a: any, b: any) {\r\n  const aI = list.indexOf(a) + 1 || list.length\r\n  const bI = list.indexOf(b) + 1 || list.length\r\n  return aI - bI\r\n}\r\n\r\nconst chunksWithIssues: Map<ResourceKey, Issue[]> = new Map()\r\n\r\nfunction emitIssues() {\r\n  const issues = []\r\n  const deduplicationSet = new Set()\r\n\r\n  for (const [_, chunkIssues] of chunksWithIssues) {\r\n    for (const chunkIssue of chunkIssues) {\r\n      if (deduplicationSet.has(chunkIssue.formatted)) continue\r\n\r\n      issues.push(chunkIssue)\r\n      deduplicationSet.add(chunkIssue.formatted)\r\n    }\r\n  }\r\n\r\n  sortIssues(issues)\r\n\r\n  hooks.issues(issues)\r\n}\r\n\r\nfunction handleIssues(msg: ServerMessage): boolean {\r\n  const key = resourceKey(msg.resource)\r\n  let hasCriticalIssues = false\r\n\r\n  for (const issue of msg.issues) {\r\n    if (CRITICAL.includes(issue.severity)) {\r\n      hasCriticalIssues = true\r\n    }\r\n  }\r\n\r\n  if (msg.issues.length > 0) {\r\n    chunksWithIssues.set(key, msg.issues)\r\n  } else if (chunksWithIssues.has(key)) {\r\n    chunksWithIssues.delete(key)\r\n  }\r\n\r\n  emitIssues()\r\n\r\n  return hasCriticalIssues\r\n}\r\n\r\nconst SEVERITY_ORDER = ['bug', 'fatal', 'error', 'warning', 'info', 'log']\r\nconst CATEGORY_ORDER = [\r\n  'parse',\r\n  'resolve',\r\n  'code generation',\r\n  'rendering',\r\n  'typescript',\r\n  'other',\r\n]\r\n\r\nfunction sortIssues(issues: Issue[]) {\r\n  issues.sort((a, b) => {\r\n    const first = compareByList(SEVERITY_ORDER, a.severity, b.severity)\r\n    if (first !== 0) return first\r\n    return compareByList(CATEGORY_ORDER, a.category, b.category)\r\n  })\r\n}\r\n\r\nconst hooks = {\r\n  beforeRefresh: () => {},\r\n  refresh: () => {},\r\n  buildOk: () => {},\r\n  issues: (_issues: Issue[]) => {},\r\n}\r\n\r\nexport function setHooks(newHooks: typeof hooks) {\r\n  Object.assign(hooks, newHooks)\r\n}\r\n\r\nfunction handleSocketMessage(msg: ServerMessage) {\r\n  sortIssues(msg.issues)\r\n\r\n  handleIssues(msg)\r\n\r\n  switch (msg.type) {\r\n    case 'issues':\r\n      // issues are already handled\r\n      break\r\n    case 'partial':\r\n      // aggregate updates\r\n      aggregateUpdates(msg)\r\n      break\r\n    default:\r\n      // run single update\r\n      const runHooks = chunkListsWithPendingUpdates.size === 0\r\n      if (runHooks) hooks.beforeRefresh()\r\n      triggerUpdate(msg)\r\n      if (runHooks) finalizeUpdate()\r\n      break\r\n  }\r\n}\r\n\r\nfunction finalizeUpdate() {\r\n  hooks.refresh()\r\n  hooks.buildOk()\r\n\r\n  // This is used by the Next.js integration test suite to notify it when HMR\r\n  // updates have been completed.\r\n  // TODO: Only run this in test environments (gate by `process.env.__NEXT_TEST_MODE`)\r\n  if (globalThis.__NEXT_HMR_CB) {\r\n    globalThis.__NEXT_HMR_CB()\r\n    globalThis.__NEXT_HMR_CB = null\r\n  }\r\n}\r\n\r\nfunction subscribeToChunkUpdate(\r\n  chunkListPath: ChunkListPath,\r\n  sendMessage: SendMessage,\r\n  callback: UpdateCallback\r\n): () => void {\r\n  return subscribeToUpdate(\r\n    {\r\n      path: chunkListPath,\r\n    },\r\n    sendMessage,\r\n    callback\r\n  )\r\n}\r\n\r\nexport function subscribeToUpdate(\r\n  resource: ResourceIdentifier,\r\n  sendMessage: SendMessage,\r\n  callback: UpdateCallback\r\n) {\r\n  const key = resourceKey(resource)\r\n  let callbackSet: UpdateCallbackSet\r\n  const existingCallbackSet = updateCallbackSets.get(key)\r\n  if (!existingCallbackSet) {\r\n    callbackSet = {\r\n      callbacks: new Set([callback]),\r\n      unsubscribe: subscribeToUpdates(sendMessage, resource),\r\n    }\r\n    updateCallbackSets.set(key, callbackSet)\r\n  } else {\r\n    existingCallbackSet.callbacks.add(callback)\r\n    callbackSet = existingCallbackSet\r\n  }\r\n\r\n  return () => {\r\n    callbackSet.callbacks.delete(callback)\r\n\r\n    if (callbackSet.callbacks.size === 0) {\r\n      callbackSet.unsubscribe()\r\n      updateCallbackSets.delete(key)\r\n    }\r\n  }\r\n}\r\n\r\nfunction triggerUpdate(msg: ServerMessage) {\r\n  const key = resourceKey(msg.resource)\r\n  const callbackSet = updateCallbackSets.get(key)\r\n  if (!callbackSet) {\r\n    return\r\n  }\r\n\r\n  for (const callback of callbackSet.callbacks) {\r\n    callback(msg)\r\n  }\r\n\r\n  if (msg.type === 'notFound') {\r\n    // This indicates that the resource which we subscribed to either does not exist or\r\n    // has been deleted. In either case, we should clear all update callbacks, so if a\r\n    // new subscription is created for the same resource, it will send a new \"subscribe\"\r\n    // message to the server.\r\n    // No need to send an \"unsubscribe\" message to the server, it will have already\r\n    // dropped the update stream before sending the \"notFound\" message.\r\n    updateCallbackSets.delete(key)\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yLAAO,EAAC,IAAA,gKAAI,EAAC;AACtB"}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/button-variants.ts"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost:\r\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9 rounded-md\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport { buttonVariants };\r\nexport type { VariantProps };\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,iBAAiB,IAAA,0LAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF"}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cn } from \"./utils\";\nimport { buttonVariants } from \"./button-variants\";\n\nconst Button = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> &\n    import(\"./button-variants\").VariantProps<typeof buttonVariants> & {\n      asChild?: boolean;\n    }\n>(({ className, variant, size, asChild = false, ...props }, ref) => {\n  const Comp: any = asChild ? Slot : \"button\";\n  return (\n    <Comp\n      ref={ref}\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n});\n\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,uBAAS,+JAAgB,MAM7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IAC1D,MAAM,OAAY,UAAU,2LAAI,GAAG;IACnC,qBACE,iLAAC;QACC,KAAK;QACL,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,IAAA,kLAAc,EAAC;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;;AAEA,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"./utils\";\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,iLAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/Footer.tsx"],"sourcesContent":["import { Mail, Phone, MapPin } from 'lucide-react';\n\nexport function Footer({ fixed = false }: { fixed?: boolean }) {\n  return (\n    <footer className={`bg-gray-800 text-white py-4${fixed ? ' fixed bottom-0 left-0 w-full z-50' : ''}`}>\n      <div className=\"max-w-7xl mx-auto px-4 lg:px-8\">\n        <div className=\"flex justify-center mb-2\">\n          <nav className=\"flex gap-6\">\n            <a href=\"#\" className=\"text-purple-400 hover:text-purple-300 transition-colors\">FAQs</a>\n            <a href=\"/\" className=\"text-purple-400 hover:text-purple-300 transition-colors\">GoWatch</a>\n          </nav>\n        </div>\n        <div className=\"flex flex-col items-center text-center mb-2\">\n          <p className=\"text-gray-300 leading-tight max-w-md pb-3\">\n            GoWatch is a free Movies streaming site. \n            <br />Enjoy movies and TV series online with no registration required.\n          </p>\n        </div>\n        <div className=\"border-t border-gray-700 pt-2\">\n          <div className=\"flex flex-col items-center\">\n            <p className=\"text-gray-400 text-sm text-center pt-4 pb-2\">\n              © 2025 GoWatch. All rights reserved.\n            </p>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}"],"names":[],"mappings":";;;;;;AAEO,SAAS,OAAO,EAAE,QAAQ,KAAK,EAAuB;IAC3D,qBACE,iLAAC;QAAO,WAAW,CAAC,2BAA2B,EAAE,QAAQ,uCAAuC,IAAI;kBAClG,cAAA,iLAAC;YAAI,WAAU;;8BACb,iLAAC;oBAAI,WAAU;8BACb,cAAA,iLAAC;wBAAI,WAAU;;0CACb,iLAAC;gCAAE,MAAK;gCAAI,WAAU;0CAA0D;;;;;;0CAChF,iLAAC;gCAAE,MAAK;gCAAI,WAAU;0CAA0D;;;;;;;;;;;;;;;;;8BAGpF,iLAAC;oBAAI,WAAU;8BACb,cAAA,iLAAC;wBAAE,WAAU;;4BAA4C;0CAEvD,iLAAC;;;;;4BAAK;;;;;;;;;;;;8BAGV,iLAAC;oBAAI,WAAU;8BACb,cAAA,iLAAC;wBAAI,WAAU;kCACb,cAAA,iLAAC;4BAAE,WAAU;sCAA8C;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvE;KA1BgB"}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/LandingPage.tsx"],"sourcesContent":["import { Button } from './ui/button';\r\nimport { Input } from './ui/input';\r\nimport { Footer } from './Footer';\r\nimport { motion } from 'motion/react';\r\nimport React, { useState } from 'react';\r\n\r\ninterface LandingPageProps {\r\n  onEnter: (query: string) => void;\r\n}\r\n\r\nconst LandingPage: React.FC<LandingPageProps> = ({ onEnter }) => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const handleEnterClick = () => {\r\n    onEnter(searchQuery);\r\n  };\r\n\r\n  const handleInputKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === 'Enter') {\r\n      onEnter(searchQuery);\r\n    }\r\n  };\r\n\r\n  return (\r\n  <div className=\"min-h-screen dark:bg-gray-900\" style={{ backgroundColor: '#EFE4F4' }}>\r\n    <br />\r\n    <br />\r\n      <div className=\"flex flex-col items-center py-8\">\r\n        <div className=\"mb-4\">\r\n          <img\r\n            src=\"/GoWatch-logo.png?v=2\"\r\n            alt=\"GoWatch Logo\"\r\n            className=\"h-16 w-auto mx-auto drop-shadow-lg\"\r\n            style={{ filter: 'drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2))' }}\r\n          />\r\n        </div>\r\n        <br />\r\n        <div className=\"w-full max-w-2xl mx-auto relative\">\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Enter title...\"\r\n            className=\"w-full h-12 pl-4 pr-12 bg-white dark:bg-gray-800/95 dark:text-white border-0 rounded-tl-lg rounded-bl-lg rounded-tr-none rounded-br-none shadow-lg focus:bg-white dark:focus:bg-gray-800 transition-colors placeholder:text-gray-500 dark:placeholder:text-gray-400\"\r\n            value={searchQuery}\r\n            onChange={e => setSearchQuery(e.target.value)}\r\n            onKeyDown={handleInputKeyDown}\r\n          />\r\n          <span className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 pointer-events-none\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className=\"w-5 h-5 drop-shadow-sm\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 21l-4.35-4.35m0 0A7.5 7.5 0 104.5 4.5a7.5 7.5 0 0012.15 12.15z\" />\r\n            </svg>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <main className=\"max-w-7xl mx-auto px-4 py-11 lg:px-8\">\r\n        <div className=\"text-center mb-16\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, delay: 0.2 }}\r\n          >\r\n                <Button \r\n                  size=\"lg\" \r\n                  onClick={handleEnterClick}\r\n                  className=\"bg-purple-600 hover:bg-purple-700 text-white px-8 py-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-x-110 hover:brightness-110\"\r\n            >\r\n              Go Watch Now →\r\n            </Button>\r\n          </motion.div>\r\n        </div>\r\n\r\n        <motion.section\r\n          initial={{ opacity: 0, y: 30 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, delay: 0.4 }}\r\n          className=\"w-full max-w-[320px] mx-auto bg-transparent\"\r\n        >\r\n          <h2 className=\"text-4xl font-bold text-gray-700 mb-6\">About GoWatch</h2>\r\n          <p className=\"text-base text-gray-600 mb-8 text-justify\">\r\n            GoWatch is a free online movie streaming website where users can enjoy a wide collection of films anytime, anywhere—without the need to sign up or create an account. Designed to be simple and user-friendly, GoWatch allows visitors to search by title, browse through genres, and explore recommendations based on trending and popular movies. Whether you are a fan of action, romance, comedy, fantasy, thriller, or family films, GoWatch brings entertainment right at your fingertips.\r\n          </p>\r\n          <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Watch Movies Online for Free</h3>\r\n          <p className=\"text-base text-gray-600 mb-6 text-justify\">\r\n            GoWatch was built with the vision of making quality entertainment accessible to everyone without the hassle of subscriptions, hidden costs, or logins. Movies are available in HD quality with smooth playback, ensuring that users enjoy their favorite titles without interruptions.\r\n        </p>\r\n        <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Our Platform Includes:</h3>\r\n        <ul className=\"list-none mb-6 pl-0\">\r\n          <li className=\"flex items-start mb-1\"><span className=\"text-purple-500 mr-2 mt-1\">✓</span><span>Wide range of genres – from timeless classics to the latest blockbusters.</span></li>\r\n          <li className=\"flex items-start mb-1\"><span className=\"text-purple-500 mr-2 mt-1\">✓</span><span>Smart recommendations – discover new titles based on what you love to watch.</span></li>\r\n          <li className=\"flex items-start mb-1\"><span className=\"text-purple-500 mr-2 mt-1\">✓</span><span>Mobile-friendly experience – stream movies on any device, anytime.</span></li>\r\n          <li className=\"flex items-start mb-1\"><span className=\"text-purple-500 mr-2 mt-1\">✓</span><span>No installation required – simply visit GoWatch, search your movie, and enjoy.</span></li>\r\n        </ul>\r\n        <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Why Choose GoWatch?</h3>\r\n    <p className=\"text-base text-gray-600 mb-6 text-justify\">\r\n          Other streaming platforms often come with costly subscriptions, logins, and limited free trials. GoWatch provides unlimited access to films without requiring payment or personal details. We are committed to keeping the platform updated with new releases and ensuring the best viewing experience for all users.\r\n        </p>\r\n        <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Is GoWatch Safe?</h3>\r\n        <p className=\"text-base text-gray-600 mb-6\">\r\n          GoWatch prioritizes user safety and accessibility. The site is built with modern web technologies, designed to be ad-light, secure, and easy to navigate. For an even better experience, users are encouraged to enable basic browsing safety tools such as ad-blockers or VPNs.\r\n        </p>\r\n        <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">The Student Project Behind GoWatch</h3>\r\n    <p className=\"text-base text-gray-600 mb-2 text-justify\">\r\n          GoWatch is one of the deliverables of Mona Arsonillo & Xnea Manlangit a 4th year BSIT - Business Technology Management students, created as part of their Learning Evidence (LE) requirement. It showcases not only technical skills in web development but also creativity in design, functionality, and user experience. The project demonstrates how technology can provide accessible, free, and enjoyable online platforms for entertainment.\r\n        </p>\r\n        <br />\r\n        <p className=\"text-base text-gray-600 text-justify\">\r\n          With GoWatch, movie lovers everywhere can find a convenient, safe, and enjoyable way to watch their favorite films—free, and simple.\r\n        </p>\r\n        <br />\r\n        <br />\r\n        <br />\r\n      </motion.section>\r\n    </main>\r\n\r\n    <Footer />\r\n  </div>\r\n);\r\n}\r\n\r\nexport default LandingPage;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\n\nimport { cn } from \"./utils\";\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-10 shrink-0 overflow-hidden rounded-full\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full object-cover object-center\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Avatar, AvatarImage, AvatarFallback };\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,iLAAC,6LAAoB;QACnB,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,iLAAC,8LAAqB;QACpB,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,iLAAC,iMAAwB;QACvB,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 1208, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst envBase = (typeof import.meta !== 'undefined' && (import.meta as any).env && (import.meta as any).env.VITE_API_URL) || '';\r\nconst apiOrigin = envBase ? envBase.replace(/\\/$/, '') : '';\r\nconst baseURL = apiOrigin ? `${apiOrigin}/api` : '/api';\r\n\r\nexport const api = axios.create({ baseURL });\r\n\r\nexport function setAuthToken(token: string | null) {\r\n  if (token) {\r\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  } else {\r\n    delete api.defaults.headers.common['Authorization'];\r\n  }\r\n}\r\n\r\nexport function mediaUrl(path: string | null | undefined): string {\r\n  if (!path) return '';\r\n  if (/^https?:\\/\\//i.test(path)) return path;\r\n  if (apiOrigin && path.startsWith('/')) return `${apiOrigin}${path}`;\r\n  return path;\r\n}\r\n\r\ntry {\r\n  const t = localStorage.getItem('gowatch_token');\r\n  if (t) setAuthToken(t);\r\n} catch (e) {\r\n}\r\n\r\napi.interceptors.response.use(\r\n  (res) => res,\r\n  (err) => {\r\n    const status = err?.response?.status;\r\n    if (status === 401) {\r\n      try { localStorage.removeItem('gowatch_token'); } catch {}\r\n      try { localStorage.removeItem('gowatch_user'); } catch {}\r\n      try { setAuthToken(null); } catch {}\r\n      try { window.dispatchEvent(new CustomEvent('gowatch:openAuth', { detail: { message: 'Session expired. Please sign in again.' } })); } catch {}\r\n    }\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;;;;AAEA,MAAM,UAAU,+CAAwB,eAAe,8BAAqB,GAAG,IAAI,8BAAqB,GAAG,CAAC,YAAY,IAAK;AAC7H,MAAM,YAAY,UAAU,QAAQ,OAAO,CAAC,OAAO,MAAM;AACzD,MAAM,UAAU,YAAY,GAAG,UAAU,IAAI,CAAC,GAAG;AAE1C,MAAM,MAAM,mKAAK,CAAC,MAAM,CAAC;IAAE;AAAQ;AAEnC,SAAS,aAAa,KAAoB;IAC/C,IAAI,OAAO;QACT,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;IAClE,OAAO;QACL,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB;IACrD;AACF;AAEO,SAAS,SAAS,IAA+B;IACtD,IAAI,CAAC,MAAM,OAAO;IAClB,IAAI,gBAAgB,IAAI,CAAC,OAAO,OAAO;IACvC,IAAI,aAAa,KAAK,UAAU,CAAC,MAAM,OAAO,GAAG,YAAY,MAAM;IACnE,OAAO;AACT;AAEA,IAAI;IACF,MAAM,IAAI,aAAa,OAAO,CAAC;IAC/B,IAAI,GAAG,aAAa;AACtB,EAAE,OAAO,GAAG,CACZ;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,MAAQ,KACT,CAAC;IACC,MAAM,SAAS,KAAK,UAAU;IAC9B,IAAI,WAAW,KAAK;QAClB,IAAI;YAAE,aAAa,UAAU,CAAC;QAAkB,EAAE,OAAM,CAAC;QACzD,IAAI;YAAE,aAAa,UAAU,CAAC;QAAiB,EAAE,OAAM,CAAC;QACxD,IAAI;YAAE,aAAa;QAAO,EAAE,OAAM,CAAC;QACnC,IAAI;YAAE,OAAO,aAAa,CAAC,IAAI,YAAY,oBAAoB;gBAAE,QAAQ;oBAAE,SAAS;gBAAyC;YAAE;QAAK,EAAE,OAAM,CAAC;IAC/I;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB"}},
    {"offset": {"line": 1275, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"./utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1584, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/Header.tsx"],"sourcesContent":["import { Search, Menu, User, Heart, Home, Film, LogOut, MoreHorizontal, MoreVertical } from 'lucide-react';\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport { Button } from './ui/button';\r\nimport { Input } from './ui/input';\r\n\r\nimport { Avatar, AvatarFallback, AvatarImage } from './ui/avatar';\r\nimport { mediaUrl } from '../lib/api';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n} from './ui/dropdown-menu';\r\n\r\ninterface HeaderProps {\r\n  onSearch?: (query: string) => void;\r\n  showNavigation?: boolean;\r\n  onOpenWatchlist?: () => void;\r\n  onOpenAuth?: () => void;\r\n  watchlistCount?: number;\r\n  currentUser?: any;\r\n  onLogout?: () => void;\r\n}\r\n\r\nexport function Header({ onSearch, showNavigation = false, onOpenWatchlist, onOpenAuth, watchlistCount, currentUser, onLogout }: HeaderProps) {\r\n  const [headerUser, setHeaderUser] = useState<any>(currentUser || null);\r\n\r\n  useEffect(() => {\r\n    setHeaderUser(currentUser || null);\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    const onLogin = (e: any) => {\r\n      const u = e?.detail || null;\r\n      if (u) setHeaderUser(u);\r\n      else {\r\n        try {\r\n          const raw = localStorage.getItem('gowatch_user');\r\n          if (raw) setHeaderUser(JSON.parse(raw));\r\n        } catch {}\r\n      }\r\n    };\r\n    window.addEventListener('gowatch:login', onLogin as EventListener);\r\n    return () => window.removeEventListener('gowatch:login', onLogin as EventListener);\r\n  }, []);\r\n\r\n  const userName = (headerUser?.username || '').trim();\r\n  const displayName = userName ? userName.charAt(0).toUpperCase() + userName.slice(1) : '';\r\n  const initials = userName\r\n    .split(' ')\r\n    .map((n: string) => n[0])\r\n    .filter(Boolean)\r\n    .slice(0, 2)\r\n    .join('')\r\n    .toUpperCase();\r\n  const [tempAvatar, setTempAvatar] = useState<string | null>(null);\r\n  const [displayedAvatar, setDisplayedAvatar] = useState<string | null>(null);\r\n  const [bust, setBust] = useState<number>(0);\r\n  const avatarSrcBase = headerUser?.avatarUrl ? mediaUrl(headerUser.avatarUrl) : '';\r\n  const networkAvatar = avatarSrcBase ? `${avatarSrcBase}${avatarSrcBase.includes('?') ? '&' : '?'}v=${bust}` : '';\r\n\r\n  useEffect(() => {\r\n    if (headerUser?.avatarUrl) setBust(Date.now());\r\n  }, [headerUser?.avatarUrl]);\r\n\r\n  useEffect(() => {\r\n    if (!networkAvatar) {\r\n      if (!tempAvatar) setDisplayedAvatar(null);\r\n      return;\r\n    }\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      setDisplayedAvatar(networkAvatar);\r\n      setTempAvatar(null);\r\n    };\r\n    img.onerror = () => {\r\n    };\r\n    img.src = networkAvatar;\r\n  }, [networkAvatar]);\r\n\r\n  useEffect(() => {\r\n    const onLogin = () => setBust(Date.now());\r\n    const onLogoutEvt = () => setBust(0);\r\n    window.addEventListener('gowatch:login', onLogin as EventListener);\r\n    window.addEventListener('gowatch:logout', onLogoutEvt as EventListener);\r\n    return () => {\r\n      window.removeEventListener('gowatch:login', onLogin as EventListener);\r\n      window.removeEventListener('gowatch:logout', onLogoutEvt as EventListener);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onPreview = (e: any) => {\r\n      const val = e?.detail ?? null;\r\n      if (typeof val === 'string' && val) {\r\n        setTempAvatar(val);\r\n        setDisplayedAvatar(val);\r\n      } else {\r\n        setTempAvatar(null);\r\n        if (!networkAvatar) setDisplayedAvatar(null);\r\n      }\r\n    };\r\n    window.addEventListener('gowatch:avatar:preview', onPreview as EventListener);\r\n    return () => window.removeEventListener('gowatch:avatar:preview', onPreview as EventListener);\r\n  }, []);\r\n  return (\r\n    <header className=\"fixed top-0 left-0 w-full z-50 bg-gray-800\">\r\n      <div className=\"relative z-10 px-4 py-6 lg:px-8\">\r\n        <div className=\"mx-auto max-w-7xl\">\r\n          <div className=\"flex flex-col items-center gap-8\">\r\n            <div className=\"flex items-center w-full justify-between gap-8\">\r\n              <div className=\"flex items-center gap-8\">\r\n                <img\r\n                  src=\"/GoWatch-logo.png?v=2\"\r\n                  alt=\"GoWatch Logo\"\r\n                  className=\"h-8 w-auto drop-shadow-lg\"\r\n                  style={{ filter: 'drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))' }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center w-full max-w-2xl mx-auto\">\r\n                <div className=\"relative w-full\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter title...\"\r\n                    className=\"w-full h-12 pl-4 pr-12 bg-white dark:bg-gray-800/95 dark:text-white border-0 rounded-l-lg focus:bg-white dark:focus:bg-gray-800 transition-colors shadow-lg placeholder:text-gray-500 dark:placeholder:text-gray-400\"\r\n                    onChange={(e) => onSearch?.(e.target.value)}\r\n                  />\r\n                  <span className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 pointer-events-none\">\r\n                    <Search className=\"w-5 h-5 drop-shadow-sm\" />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n                <div className=\"flex items-center ml-4 space-x-4\">\r\n                {currentUser ? (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      onClick={() => onOpenWatchlist && onOpenWatchlist()}\r\n                      className=\"h-10 px-4 py-2 bg-gray-700 text-white rounded-xl flex items-center gap-2\"\r\n                      aria-label=\"Open watchlist\"\r\n                    >\r\n                      <Heart className=\"w-5 h-5\" />\r\n                      <span className=\"text-sm font-semibold\">Watchlist</span>\r\n                      {typeof watchlistCount === 'number' && watchlistCount > 0 && (\r\n                        <span\r\n                          className=\"ml-1 pointer-events-none select-none h-5 min-w-[1.25rem] px-1 inline-flex items-center justify-center rounded-full bg-red-500 text-purple-100 text-[10px] font-bold\"\r\n                          aria-label={`Watchlist items: ${watchlistCount}`}\r\n                        >\r\n                          {watchlistCount > 99 ? '99+' : watchlistCount}\r\n                        </span>\r\n                      )}\r\n                    </Button>\r\n                    <DropdownMenu modal={false}>\r\n                      <DropdownMenuTrigger asChild>\r\n                        <Button className=\"h-10 px-6 py-4 bg-gray-700 text-white rounded-xl flex items-center gap-2\">\r\n                          <Avatar key={displayedAvatar || 'noimg'} className=\"h-8 w-8\">\r\n                            {displayedAvatar ? (\r\n                              <AvatarImage key={displayedAvatar} src={displayedAvatar} alt={userName} />\r\n                            ) : null}\r\n                            <AvatarFallback className=\"text-[12px] text-black\">{initials || 'U'}</AvatarFallback>\r\n                          </Avatar>\r\n                          <span className=\"text-base font-semibold\">{displayName}</span>\r\n                        </Button>\r\n                      </DropdownMenuTrigger>\r\n                      <DropdownMenuContent\r\n                        align=\"center\"\r\n                        className=\"max-w-[90vw] text-center\"\r\n                        style={{ width: 180, minWidth: 180 }}\r\n                      >\r\n                        <DropdownMenuItem\r\n                          className=\"flex items-center justify-center px-2 py-2 cursor-pointer\"\r\n                          onSelect={(_e: any) => {\r\n                            try { window.dispatchEvent(new CustomEvent('gowatch:openProfile')); } catch {}\r\n                          }}\r\n                        >\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Avatar key={displayedAvatar || 'noimg'} className=\"h-8 w-8\">\r\n                              {displayedAvatar ? (\r\n                                <AvatarImage key={displayedAvatar} src={displayedAvatar} alt={userName} />\r\n                              ) : null}\r\n                              <AvatarFallback className=\"text-[12px] text-black\">{initials || 'U'}</AvatarFallback>\r\n                            </Avatar>\r\n                            <span className=\"text-base font-medium\">{displayName}</span>\r\n                            <MoreVertical className=\"w-4 h-4 text-gray-400\" />\r\n                          </div>\r\n                        </DropdownMenuItem>\r\n                        <DropdownMenuSeparator />\r\n                        <DropdownMenuItem onClick={() => onLogout && onLogout()} className=\"text-red-600 justify-center\">\r\n                          <LogOut className=\"w-4 h-4\" />\r\n                          Sign Out\r\n                        </DropdownMenuItem>\r\n                      </DropdownMenuContent>\r\n                    </DropdownMenu>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      onClick={() => onOpenWatchlist && onOpenWatchlist()}\r\n                      className=\"h-10 px-4 py-2 bg-gray-700 text-white rounded-xl flex items-center gap-2\"\r\n                      aria-label=\"Open watchlist\"\r\n                    >\r\n                      <Heart className=\"w-5 h-5\" />\r\n                      <span className=\"text-sm font-semibold\">Watchlist</span>\r\n                    </Button>\r\n                    <Button onClick={() => onOpenAuth && onOpenAuth()} className=\"h-10 px-4 py-2 bg-gradient-to-r from-purple-700 via-purple-600 to-purple-500 text-white shadow-lg hover:from-purple-800 hover:via-purple-700 transition-colors rounded-xl flex items-center gap-3\">\r\n                      <User className=\"w-5 h-5 text-white\" />\r\n                      <span className=\"text-sm font-semibold\">Sign in</span>\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;AAmBO,SAAS,OAAO,EAAE,QAAQ,EAAE,iBAAiB,KAAK,EAAE,eAAe,EAAE,UAAU,EAAE,cAAc,EAAE,WAAW,EAAE,QAAQ,EAAe;;IAC1I,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6JAAQ,EAAM,eAAe;IAEjE,IAAA,8JAAS;4BAAC;YACR,cAAc,eAAe;QAC/B;2BAAG;QAAC;KAAY;IAEhB,IAAA,8JAAS;4BAAC;YACR,MAAM;4CAAU,CAAC;oBACf,MAAM,IAAI,GAAG,UAAU;oBACvB,IAAI,GAAG,cAAc;yBAChB;wBACH,IAAI;4BACF,MAAM,MAAM,aAAa,OAAO,CAAC;4BACjC,IAAI,KAAK,cAAc,KAAK,KAAK,CAAC;wBACpC,EAAE,OAAM,CAAC;oBACX;gBACF;;YACA,OAAO,gBAAgB,CAAC,iBAAiB;YACzC;oCAAO,IAAM,OAAO,mBAAmB,CAAC,iBAAiB;;QAC3D;2BAAG,EAAE;IAEL,MAAM,WAAW,CAAC,YAAY,YAAY,EAAE,EAAE,IAAI;IAClD,MAAM,cAAc,WAAW,SAAS,MAAM,CAAC,GAAG,WAAW,KAAK,SAAS,KAAK,CAAC,KAAK;IACtF,MAAM,WAAW,SACd,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAc,CAAC,CAAC,EAAE,EACvB,MAAM,CAAC,SACP,KAAK,CAAC,GAAG,GACT,IAAI,CAAC,IACL,WAAW;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6JAAQ,EAAgB;IAC5D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,6JAAQ,EAAgB;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6JAAQ,EAAS;IACzC,MAAM,gBAAgB,YAAY,YAAY,IAAA,gJAAQ,EAAC,WAAW,SAAS,IAAI;IAC/E,MAAM,gBAAgB,gBAAgB,GAAG,gBAAgB,cAAc,QAAQ,CAAC,OAAO,MAAM,IAAI,EAAE,EAAE,MAAM,GAAG;IAE9G,IAAA,8JAAS;4BAAC;YACR,IAAI,YAAY,WAAW,QAAQ,KAAK,GAAG;QAC7C;2BAAG;QAAC,YAAY;KAAU;IAE1B,IAAA,8JAAS;4BAAC;YACR,IAAI,CAAC,eAAe;gBAClB,IAAI,CAAC,YAAY,mBAAmB;gBACpC;YACF;YACA,MAAM,MAAM,IAAI;YAChB,IAAI,MAAM;oCAAG;oBACX,mBAAmB;oBACnB,cAAc;gBAChB;;YACA,IAAI,OAAO;oCAAG,KACd;;YACA,IAAI,GAAG,GAAG;QACZ;2BAAG;QAAC;KAAc;IAElB,IAAA,8JAAS;4BAAC;YACR,MAAM;4CAAU,IAAM,QAAQ,KAAK,GAAG;;YACtC,MAAM;gDAAc,IAAM,QAAQ;;YAClC,OAAO,gBAAgB,CAAC,iBAAiB;YACzC,OAAO,gBAAgB,CAAC,kBAAkB;YAC1C;oCAAO;oBACL,OAAO,mBAAmB,CAAC,iBAAiB;oBAC5C,OAAO,mBAAmB,CAAC,kBAAkB;gBAC/C;;QACF;2BAAG,EAAE;IAEL,IAAA,8JAAS;4BAAC;YACR,MAAM;8CAAY,CAAC;oBACjB,MAAM,MAAM,GAAG,UAAU;oBACzB,IAAI,OAAO,QAAQ,YAAY,KAAK;wBAClC,cAAc;wBACd,mBAAmB;oBACrB,OAAO;wBACL,cAAc;wBACd,IAAI,CAAC,eAAe,mBAAmB;oBACzC;gBACF;;YACA,OAAO,gBAAgB,CAAC,0BAA0B;YAClD;oCAAO,IAAM,OAAO,mBAAmB,CAAC,0BAA0B;;QACpE;2BAAG,EAAE;IACL,qBACE,iLAAC;QAAO,WAAU;kBAChB,cAAA,iLAAC;YAAI,WAAU;sBACb,cAAA,iLAAC;gBAAI,WAAU;0BACb,cAAA,iLAAC;oBAAI,WAAU;8BACb,cAAA,iLAAC;wBAAI,WAAU;;0CACb,iLAAC;gCAAI,WAAU;0CACb,cAAA,iLAAC;oCACC,KAAI;oCACJ,KAAI;oCACJ,WAAU;oCACV,OAAO;wCAAE,QAAQ;oCAA4C;;;;;;;;;;;0CAIjE,iLAAC;gCAAI,WAAU;0CACb,cAAA,iLAAC;oCAAI,WAAU;;sDACb,iLAAC,6JAAK;4CACJ,MAAK;4CACL,aAAY;4CACZ,WAAU;4CACV,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;sDAE5C,iLAAC;4CAAK,WAAU;sDACd,cAAA,iLAAC,mOAAM;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;0CAKtB,iLAAC;gCAAI,WAAU;0CACd,4BACC,iLAAC;oCAAI,WAAU;;sDACb,iLAAC,+KAAM;4CACL,SAAS,IAAM,mBAAmB;4CAClC,WAAU;4CACV,cAAW;;8DAEX,iLAAC,gOAAK;oDAAC,WAAU;;;;;;8DACjB,iLAAC;oDAAK,WAAU;8DAAwB;;;;;;gDACvC,OAAO,mBAAmB,YAAY,iBAAiB,mBACtD,iLAAC;oDACC,WAAU;oDACV,cAAY,CAAC,iBAAiB,EAAE,gBAAgB;8DAE/C,iBAAiB,KAAK,QAAQ;;;;;;;;;;;;sDAIrC,iLAAC,+KAAY;4CAAC,OAAO;;8DACnB,iLAAC,sLAAmB;oDAAC,OAAO;8DAC1B,cAAA,iLAAC,+KAAM;wDAAC,WAAU;;0EAChB,iLAAC,+JAAM;gEAAkC,WAAU;;oEAChD,gCACC,iLAAC,oKAAW;wEAAuB,KAAK;wEAAiB,KAAK;uEAA5C;;;;+EAChB;kFACJ,iLAAC,uKAAc;wEAAC,WAAU;kFAA0B,YAAY;;;;;;;+DAJrD,mBAAmB;;;;;0EAMhC,iLAAC;gEAAK,WAAU;0EAA2B;;;;;;;;;;;;;;;;;8DAG/C,iLAAC,sLAAmB;oDAClB,OAAM;oDACN,WAAU;oDACV,OAAO;wDAAE,OAAO;wDAAK,UAAU;oDAAI;;sEAEnC,iLAAC,mLAAgB;4DACf,WAAU;4DACV,UAAU,CAAC;gEACT,IAAI;oEAAE,OAAO,aAAa,CAAC,IAAI,YAAY;gEAAyB,EAAE,OAAM,CAAC;4DAC/E;sEAEA,cAAA,iLAAC;gEAAI,WAAU;;kFACb,iLAAC,+JAAM;wEAAkC,WAAU;;4EAChD,gCACC,iLAAC,oKAAW;gFAAuB,KAAK;gFAAiB,KAAK;+EAA5C;;;;uFAChB;0FACJ,iLAAC,uKAAc;gFAAC,WAAU;0FAA0B,YAAY;;;;;;;uEAJrD,mBAAmB;;;;;kFAMhC,iLAAC;wEAAK,WAAU;kFAAyB;;;;;;kFACzC,iLAAC,6PAAY;wEAAC,WAAU;;;;;;;;;;;;;;;;;sEAG5B,iLAAC,wLAAqB;;;;;sEACtB,iLAAC,mLAAgB;4DAAC,SAAS,IAAM,YAAY;4DAAY,WAAU;;8EACjE,iLAAC,uOAAM;oEAAC,WAAU;;;;;;gEAAY;;;;;;;;;;;;;;;;;;;;;;;;yDAOtC,iLAAC;oCAAI,WAAU;;sDACb,iLAAC,+KAAM;4CACL,SAAS,IAAM,mBAAmB;4CAClC,WAAU;4CACV,cAAW;;8DAEX,iLAAC,gOAAK;oDAAC,WAAU;;;;;;8DACjB,iLAAC;oDAAK,WAAU;8DAAwB;;;;;;;;;;;;sDAE1C,iLAAC,+KAAM;4CAAC,SAAS,IAAM,cAAc;4CAAc,WAAU;;8DAC3D,iLAAC,6NAAI;oDAAC,WAAU;;;;;;8DAChB,iLAAC;oDAAK,WAAU;8DAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAW9D;GAlMgB;KAAA"}},
    {"offset": {"line": 2087, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/figma/ImageWithFallback.tsx"],"sourcesContent":["import React, { useState } from 'react'\n\nconst ERROR_IMG_SRC =\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg=='\n\nexport function ImageWithFallback(props: React.ImgHTMLAttributes<HTMLImageElement>) {\n  const [didError, setDidError] = useState(false)\n\n  const handleError = () => {\n    setDidError(true)\n  }\n\n  const { src, alt, style, className, ...rest } = props\n\n  return didError ? (\n    <div\n      className={`inline-block bg-gray-100 text-center align-middle ${className ?? ''}`}\n      style={style}\n    >\n      <div className=\"flex items-center justify-center w-full h-full\">\n        <img src={ERROR_IMG_SRC} alt=\"Error loading image\" {...rest} data-original-url={src} />\n      </div>\n    </div>\n  ) : (\n    <img src={src} alt={alt} className={className} style={style} {...rest} onError={handleError} />\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;AAEA,MAAM,gBACJ;AAEK,SAAS,kBAAkB,KAAgD;;IAChF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6JAAQ,EAAC;IAEzC,MAAM,cAAc;QAClB,YAAY;IACd;IAEA,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,MAAM,GAAG;IAEhD,OAAO,yBACL,iLAAC;QACC,WAAW,CAAC,kDAAkD,EAAE,aAAa,IAAI;QACjF,OAAO;kBAEP,cAAA,iLAAC;YAAI,WAAU;sBACb,cAAA,iLAAC;gBAAI,KAAK;gBAAe,KAAI;gBAAuB,GAAG,IAAI;gBAAE,qBAAmB;;;;;;;;;;;;;;;6BAIpF,iLAAC;QAAI,KAAK;QAAK,KAAK;QAAK,WAAW;QAAW,OAAO;QAAQ,GAAG,IAAI;QAAE,SAAS;;;;;;AAEpF;GArBgB;KAAA"}},
    {"offset": {"line": 2152, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/MovieCarousel.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { ChevronLeft, ChevronRight, Star } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { ImageWithFallback } from \"./figma/ImageWithFallback\";\n\ninterface Movie {\n  id: string;\n  title: string;\n  year: number;\n  rating: number;\n  genre: string[];\n  image: string;\n  description?: string;\n}\n\ninterface MovieCarouselProps {\n  movies: Movie[];\n  onMovieClick?: (movie: Movie) => void;\n}\n\nexport function MovieCarousel({ movies, onMovieClick }: MovieCarouselProps) {\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const nextSlide = () => {\n    setCurrentIndex((prev) => (prev + 1) % movies.length);\n  };\n\n  const prevSlide = () => {\n    setCurrentIndex((prev) => (prev - 1 + movies.length) % movies.length);\n  };\n\n  const CARD_WIDTH = 350;\n  const CARD_HEIGHT = 250;\n\n  const getIndex = (index: number) => {\n    return (index + movies.length) % movies.length;\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentIndex((prev) => (prev + 1) % movies.length);\n    }, 3000);\n    return () => clearInterval(interval);\n  }, [movies.length]);\n\n  if (!movies || movies.length === 0) {\n    return (\n      <div className=\"relative w-full max-w-6xl mx-auto py-12 flex items-center justify-center\">\n        <span className=\"text-gray-500 text-lg\">No movies found.</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative w-full max-w-6xl mx-auto py-12\">\n      <div className=\"relative flex items-center justify-center overflow-hidden\">\n        <button\n          onClick={prevSlide}\n          className=\"absolute left-2 z-20 bg-white/70 hover:bg-white rounded-full p-2 shadow\"\n        >\n          <ChevronLeft className=\"w-5 h-5\" />\n        </button>\n\n        <div className=\"flex items-center justify-center gap-0 w-full\">\n          {[getIndex(currentIndex - 1), currentIndex, getIndex(currentIndex + 1)].map(\n            (index, pos) => {\n              const movie = movies[index];\n              if (!movie) return null;\n              const isCurrent = index === currentIndex;\n\n              const width = isCurrent ? CARD_WIDTH + 60 : CARD_WIDTH * 1;\n              const height = isCurrent ? CARD_HEIGHT : CARD_HEIGHT * 0.8;\n              const zIndex = isCurrent ? 20 : 10;\n              const marginLeft = pos === 1 ? '-100px' : undefined;\n              const marginRight = pos === 1 ? '-100px' : undefined;\n\n              return (\n                <motion.div\n                  key={movie.id}\n                  onClick={() => onMovieClick?.(movie)}\n                  className={`relative cursor-pointer flex-shrink-0 rounded-xl overflow-hidden shadow-lg ${\n                    isCurrent ? \"ring-4 ring-black/30\" : \"\"\n                  }`}\n                  animate={{\n                    opacity: isCurrent ? 1 : 0.6,\n                  }}\n                  transition={isCurrent\n                    ? { duration: 0.7, type: 'spring', stiffness: 80, damping: 18 }\n                    : { duration: 0 }}\n                  style={{\n                    width: `${width}px`,\n                    height: `${height}px`,\n                    zIndex,\n                    marginLeft,\n                    marginRight,\n                  }}\n                >\n\n                  <div className=\"w-full h-full rounded-xl overflow-hidden\">\n                    <ImageWithFallback\n                      src={movie.image}\n                      alt={movie.title}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n\n                  <div className=\"absolute inset-0 bg-black/40 rounded-xl\" />\n\n                  {isCurrent && (\n                    <div className=\"absolute bottom-4 left-4 text-white\">\n                      <h3 className=\"text-lg font-semibold\">{movie.title}</h3>\n                      <div className=\"flex items-center space-x-2 text-sm\">\n                        <Star className=\"w-3 h-3 fill-white text-white\" />\n                        <span>{movie.rating}</span>\n                        <span>|</span>\n                        <span>{movie.year}</span>\n                      </div>\n                    </div>\n                  )}\n                </motion.div>\n              );\n            }\n          )}\n        </div>\n        <button\n          onClick={nextSlide}\n          className=\"absolute right-2 z-20 bg-white/70 hover:bg-white rounded-full p-2 shadow\"\n        >\n          <ChevronRight className=\"w-5 h-5\" />\n        </button>\n      </div>\n\n      <div className=\"flex justify-center space-x-2 mt-6\">\n        {[...Array(3)].map((_, i) => (\n          <span\n            key={i}\n            className={`h-3 w-3 rounded-full transition-all ${i === 1 ? \"bg-black scale-125\" : \"bg-gray-400\"}`}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2418, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"./utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\";\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0LAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2LAAI,GAAG;IAE9B,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 2470, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/GenreFilter.tsx"],"sourcesContent":["import { Badge } from './ui/badge';\nimport { motion } from 'motion/react';\n\ninterface GenreFilterProps {\n  genres: string[];\n  selectedGenres: string[];\n  onGenreToggle: (genre: string) => void;\n}\n\nexport function GenreFilter({ genres, selectedGenres, onGenreToggle }: GenreFilterProps) {\n  return (\n    <div className=\"flex flex-wrap justify-center gap-3 mb-8\">\n      {genres.map((genre) => {\n        const isSelected = selectedGenres.includes(genre);\n        return (\n          <motion.div\n            key={genre}\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n          >\n            <Badge\n              variant={isSelected ? \"default\" : \"outline\"}\n              className={`px-6 py-2 cursor-pointer transition-all duration-200 ${\n                isSelected \n                  ? 'bg-purple-600 hover:bg-purple-700 text-white' \n                  : 'hover:bg-purple-100 hover:border-purple-300'\n              }`}\n              onClick={() => onGenreToggle(genre)}\n            >\n              {genre}\n            </Badge>\n          </motion.div>\n        );\n      })}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQO,SAAS,YAAY,EAAE,MAAM,EAAE,cAAc,EAAE,aAAa,EAAoB;IACrF,qBACE,iLAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC;YACX,MAAM,aAAa,eAAe,QAAQ,CAAC;YAC3C,qBACE,iLAAC,uNAAM,CAAC,GAAG;gBAET,YAAY;oBAAE,OAAO;gBAAK;gBAC1B,UAAU;oBAAE,OAAO;gBAAK;0BAExB,cAAA,iLAAC,6JAAK;oBACJ,SAAS,aAAa,YAAY;oBAClC,WAAW,CAAC,qDAAqD,EAC/D,aACI,iDACA,+CACJ;oBACF,SAAS,IAAM,cAAc;8BAE5B;;;;;;eAbE;;;;;QAiBX;;;;;;AAGN;KA3BgB"}},
    {"offset": {"line": 2524, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"./utils\";\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <h4\n      data-slot=\"card-title\"\n      className={cn(\"leading-none\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <p\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6 [&:last-child]:pb-6\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 pb-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,sEACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,mKACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,gBAAgB;QAC7B,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 2644, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/MovieCard.tsx"],"sourcesContent":["import { Star } from 'lucide-react';\r\nimport { useState, useEffect } from 'react';\r\nimport { Button } from './ui/button';\r\nimport { Badge } from './ui/badge';\r\nimport { Card } from './ui/card';\r\nimport { motion } from 'motion/react';\r\nimport { ImageWithFallback } from './figma/ImageWithFallback';\r\n\r\ninterface Movie {\r\n  id: string;\r\n  title: string;\r\n  year: number;\r\n  rating: number;\r\n  genre: string[];\r\n  image: string;\r\n  description?: string;\r\n}\r\n\r\ninterface MovieCardProps {\r\n  movie: Movie;\r\n  size?: 'small' | 'medium' | 'large';\r\n  onClick?: (movie: Movie) => void;\r\n  demoUserId?: number | null;\r\n  isSaved?: boolean;\r\n}\r\n\r\nexport function MovieCard({ movie, size = 'medium', onClick, demoUserId = null, isSaved = false }: MovieCardProps) {\r\n  const cardSize = 'w-[170px] h-[260px]';\r\n  const [saved, setSaved] = useState<boolean>(!!isSaved);\r\n\r\n  useEffect(() => {\r\n    setSaved(!!isSaved);\r\n  }, [movie.id, isSaved]);\r\n\r\n  // Saving is handled from the MovieModal; MovieCard does not show a save button anymore.\r\n\r\n  return (\r\n    <motion.div\r\n      whileHover={{ scale: 1.05, y: -5 }}\r\n      whileTap={{ scale: 0.95 }}\r\n      transition={{ duration: 0.2 }}\r\n      className={`cursor-pointer ${cardSize}`}\r\n      onClick={() => onClick?.(movie)}\r\n    >\r\n      <Card className={`overflow-hidden group relative bg-gradient-to-b from-gray-900 via-gray-800 to-black hover:shadow-2xl hover:shadow-purple-500/20 transition-all duration-300 w-full h-full border-gray-700 dark:border-gray-600`}>\r\n        <div className=\"relative w-full h-full\">\r\n          {/* save button removed from card; use the modal's Save button instead */}\r\n          <ImageWithFallback\r\n            src={movie.image}\r\n            alt={movie.title}\r\n            className=\"w-full h-full object-cover\"\r\n          />\r\n\r\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black/95 via-black/70 to-black/30\"></div>\r\n          <div className=\"absolute inset-0 bg-[radial-gradient(white_1px,transparent_1px)] [background-size:20px_20px] opacity-10\"></div>\r\n\r\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent\"></div>\r\n\r\n          <div className=\"absolute bottom-0 left-0 right-0 p-3 text-white bg-black/60 backdrop-blur-sm rounded-t-2xl\">\r\n            <h3 className=\"font-bold text-sm mb-1 line-clamp-2 drop-shadow-lg leading-tight\">\r\n              {movie.title}\r\n            </h3>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Star className=\"w-3 h-3 fill-yellow-400 text-yellow-400\" />\r\n                <span className=\"text-xs font-medium\">{movie.rating}</span>\r\n                <span className=\"text-xs text-gray-300\">|</span>\r\n                <span className=\"text-xs text-gray-300\">{movie.year}</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-1 mt-1\">\r\n              {movie.genre.slice(0, 2).map((g) => (\r\n                <Badge key={g} variant=\"outline\" className=\"text-xs px-2 py-1 bg-white/20 text-white border-white/30\">\r\n                  {g}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </motion.div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;AAoBO,SAAS,UAAU,EAAE,KAAK,EAAE,OAAO,QAAQ,EAAE,OAAO,EAAE,aAAa,IAAI,EAAE,UAAU,KAAK,EAAkB;;IAC/G,MAAM,WAAW;IACjB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6JAAQ,EAAU,CAAC,CAAC;IAE9C,IAAA,8JAAS;+BAAC;YACR,SAAS,CAAC,CAAC;QACb;8BAAG;QAAC,MAAM,EAAE;QAAE;KAAQ;IAEtB,wFAAwF;IAExF,qBACE,iLAAC,uNAAM,CAAC,GAAG;QACT,YAAY;YAAE,OAAO;YAAM,GAAG,CAAC;QAAE;QACjC,UAAU;YAAE,OAAO;QAAK;QACxB,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAW,CAAC,eAAe,EAAE,UAAU;QACvC,SAAS,IAAM,UAAU;kBAEzB,cAAA,iLAAC,2JAAI;YAAC,WAAW,CAAC,8MAA8M,CAAC;sBAC/N,cAAA,iLAAC;gBAAI,WAAU;;kCAEb,iLAAC,wLAAiB;wBAChB,KAAK,MAAM,KAAK;wBAChB,KAAK,MAAM,KAAK;wBAChB,WAAU;;;;;;kCAGZ,iLAAC;wBAAI,WAAU;;;;;;kCACf,iLAAC;wBAAI,WAAU;;;;;;kCAEf,iLAAC;wBAAI,WAAU;;;;;;kCAEf,iLAAC;wBAAI,WAAU;;0CACb,iLAAC;gCAAG,WAAU;0CACX,MAAM,KAAK;;;;;;0CAEd,iLAAC;gCAAI,WAAU;0CACb,cAAA,iLAAC;oCAAI,WAAU;;sDACb,iLAAC,6NAAI;4CAAC,WAAU;;;;;;sDAChB,iLAAC;4CAAK,WAAU;sDAAuB,MAAM,MAAM;;;;;;sDACnD,iLAAC;4CAAK,WAAU;sDAAwB;;;;;;sDACxC,iLAAC;4CAAK,WAAU;sDAAyB,MAAM,IAAI;;;;;;;;;;;;;;;;;0CAGvD,iLAAC;gCAAI,WAAU;0CACZ,MAAM,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,kBAC5B,iLAAC,6JAAK;wCAAS,SAAQ;wCAAU,WAAU;kDACxC;uCADS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU5B;GAxDgB;KAAA"}},
    {"offset": {"line": 2832, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/MovieGrid.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { MovieCard } from './MovieCard';\r\nimport { motion } from 'framer-motion';\r\nimport { Flame } from 'lucide-react';\r\n\r\ninterface Movie {\r\n  id: string;\r\n  title: string;\r\n  year: number;\r\n  rating: number;\r\n  genre: string[];\r\n  image: string;\r\n  description?: string;\r\n}\r\n\r\ninterface MovieGridProps {\r\n  title: string;\r\n  movies: Movie[];\r\n  onMovieClick?: (movie: Movie) => void;\r\n  demoUserId?: number | null;\r\n  watchlistIds?: string[];\r\n}\r\n\r\nexport function MovieGrid({ title, movies, onMovieClick, demoUserId = null, watchlistIds = [] }: MovieGridProps) {\r\n  const [page, setPage] = useState(1);\r\n  const pageSize = 20;\r\n  const totalPages = Math.ceil(movies.length / pageSize);\r\n  const paginatedMovies = movies.slice((page - 1) * pageSize, page * pageSize);\r\n\r\n  return (\r\n    <div className=\"mb-12\">\r\n      <div className=\"mb-6\" style={{ marginLeft: '40px' }}>\r\n        <h2 className=\"text-2xl font-bold\">{title}</h2>\r\n      </div>\r\n      <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8 justify-items-center mx-auto\" style={{ marginLeft: '40px' }}>\r\n        {movies.map((movie, index) => (\r\n          <motion.div\r\n            key={movie.id}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.3, delay: index * 0.1 }}\r\n            className=\"w-full max-w-[170px]\"\r\n          >\r\n            <MovieCard \r\n              movie={movie} \r\n              size=\"small\" \r\n              onClick={onMovieClick}\r\n              demoUserId={demoUserId}\r\n              isSaved={watchlistIds.includes(String(movie.id))}\r\n            />\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAqBO,SAAS,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,aAAa,IAAI,EAAE,eAAe,EAAE,EAAkB;;IAC7G,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6JAAQ,EAAC;IACjC,MAAM,WAAW;IACjB,MAAM,aAAa,KAAK,IAAI,CAAC,OAAO,MAAM,GAAG;IAC7C,MAAM,kBAAkB,OAAO,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,UAAU,OAAO;IAEnE,qBACE,iLAAC;QAAI,WAAU;;0BACb,iLAAC;gBAAI,WAAU;gBAAO,OAAO;oBAAE,YAAY;gBAAO;0BAChD,cAAA,iLAAC;oBAAG,WAAU;8BAAsB;;;;;;;;;;;0BAEtC,iLAAC;gBAAI,WAAU;gBAAmG,OAAO;oBAAE,YAAY;gBAAO;0BAC3I,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,iLAAC,uNAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,UAAU;4BAAK,OAAO,QAAQ;wBAAI;wBAChD,WAAU;kCAEV,cAAA,iLAAC,+JAAS;4BACR,OAAO;4BACP,MAAK;4BACL,SAAS;4BACT,YAAY;4BACZ,SAAS,aAAa,QAAQ,CAAC,OAAO,MAAM,EAAE;;;;;;uBAX3C,MAAM,EAAE;;;;;;;;;;;;;;;;AAkBzB;GAhCgB;KAAA"}},
    {"offset": {"line": 2930, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/MovieModal.tsx"],"sourcesContent":["import { X, Star, Play, Heart, Calendar, Clock } from 'lucide-react';\r\nimport { Button } from './ui/button';\r\nimport { Badge } from './ui/badge';\r\nimport { motion, AnimatePresence } from 'motion/react';\r\nimport { ImageWithFallback } from './figma/ImageWithFallback';\r\nimport React from 'react';\r\n\r\ninterface Movie {\r\n  id: string;\r\n  title: string;\r\n  year: number;\r\n  rating: number;\r\n  genre: string[];\r\n  image: string;\r\n  description?: string;\r\n}\r\n\r\ninterface MovieModalProps {\r\n  movie: Movie | null;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  isSaved?: boolean;\r\n}\r\n\r\nexport function MovieModal({ movie, isOpen, onClose, isSaved = false }: MovieModalProps) {\r\n  const [saved, setSaved] = React.useState<boolean>(!!isSaved);\r\n  React.useEffect(() => {\r\n    setSaved(!!isSaved);\r\n  }, [isSaved, movie?.id])\r\n\r\n  React.useEffect(() => {\r\n    if (!movie) return;\r\n    const onAdded = (e: any) => {\r\n      const item = e?.detail;\r\n      if (!item) return;\r\n      if (String(item.movieId) === String(movie.id)) setSaved(true);\r\n    };\r\n    const onRemoved = (e: any) => {\r\n      const id = e?.detail?.movieId ?? e?.detail;\r\n      if (id == null) return;\r\n      if (String(id) === String(movie.id)) setSaved(false);\r\n    };\r\n    window.addEventListener('gowatch:watchlist:added', onAdded as EventListener);\r\n    window.addEventListener('gowatch:watchlist:removed', onRemoved as EventListener);\r\n    return () => {\r\n      window.removeEventListener('gowatch:watchlist:added', onAdded as EventListener);\r\n      window.removeEventListener('gowatch:watchlist:removed', onRemoved as EventListener);\r\n    };\r\n  }, [movie?.id]);\r\n\r\n  if (!movie) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <>\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4\"\r\n            onClick={onClose}\r\n          >\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.8, y: 20 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.8, y: 20 }}\r\n              transition={{ duration: 0.3 }}\r\n              className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <div className=\"relative h-64 md:h-80\">\r\n                <ImageWithFallback\r\n                  src={movie.image}\r\n                  alt={movie.title}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\" />\r\n\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={onClose}\r\n                  className=\"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white\"\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </Button>\r\n                \r\n                <div className=\"absolute bottom-4 left-4 right-4\">\r\n                  <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-2\">{movie.title}</h1>\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"flex items-center space-x-1\">\r\n                      <Star className=\"w-5 h-5 fill-yellow-400 text-yellow-400\" />\r\n                      <span className=\"text-white font-semibold\">{movie.rating}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-1 text-white\">\r\n                      <Calendar className=\"w-4 h-4\" />\r\n                      <span>{movie.year}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-1 text-white\">\r\n                      <Clock className=\"w-4 h-4\" />\r\n                      <span>2h 15m</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"p-6\">\r\n                <div className=\"flex flex-wrap gap-3 mb-6\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Button\r\n                      size=\"lg\"\r\n                      className=\"bg-purple-600 text-white opacity-60 cursor-not-allowed\"\r\n                      disabled\r\n                      aria-disabled=\"true\"\r\n                      title=\"Coming soon\"\r\n                    >\r\n                      <Play className=\"w-5 h-5 mr-2\" />\r\n                      Watch Now\r\n                    </Button>\r\n                    <Button\r\n                      size=\"lg\"\r\n                      variant={saved ? 'ghost' : 'outline'}\r\n                      className=\"flex items-center gap-2\"\r\n                      onClick={() => {\r\n                        if (saved) return;\r\n                        try {\r\n                          window.dispatchEvent(new CustomEvent('gowatch:saveMovie', { detail: movie }));\r\n                        } catch (err) {\r\n                        }\r\n                      }}\r\n                      disabled={saved}\r\n                    >\r\n                      <Heart className={\"w-5 h-5 \" + (saved ? 'fill-red-500 text-red-500' : '')} />\r\n                      {saved ? 'Added' : 'Add to Watchlist'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex flex-wrap gap-2 mb-6\">\r\n                  {movie.genre.map((genre) => (\r\n                    <Badge key={genre} variant=\"secondary\" className=\"px-3 py-1\">\r\n                      {genre}\r\n                    </Badge>\r\n                  ))}\r\n                </div>\r\n                \r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold mb-3\">Overview</h3>\r\n                  <p className=\"text-gray-600 leading-relaxed\">\r\n                    {movie.description || \r\n                      `${movie.title} is an incredible ${movie.genre[0]?.toLowerCase()} film from ${movie.year}. Experience stunning visuals, compelling storytelling, and unforgettable performances in this must-watch movie. Join millions of viewers who have already discovered this cinematic masterpiece.`\r\n                    }\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6 pt-6 border-t\">\r\n                  <div>\r\n                    <h4 className=\"font-semibold mb-2\">Cast</h4>\r\n                    <p className=\"text-gray-600\">John Doe, Jane Smith, Mike Johnson</p>\r\n                  </div>\r\n                  <div>\r\n                    <h4 className=\"font-semibold mb-2\">Director</h4>\r\n                    <p className=\"text-gray-600\">Christopher Nolan</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3370, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/lib/watchlist.ts"],"sourcesContent":["import { api } from './api';\r\n\r\nexport async function ensureDemoUser(username = 'demo') {\r\n  const res = await api.post('/users', { username });\r\n  return res.data.user;\r\n}\r\n\r\nexport async function addToWatchlist(movie: any) {\r\n  const res = await api.post('/watchlist', { movie });\r\n  return res.data;\r\n}\r\n\r\nexport async function removeFromWatchlist(movieId: string) {\r\n  const res = await api.delete(`/watchlist/${encodeURIComponent(movieId)}`);\r\n  return res.data;\r\n}\r\n\r\nexport async function getWatchlist() {\r\n  const res = await api.get(`/watchlist`);\r\n  return res.data.watchlist;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,eAAe,eAAe,WAAW,MAAM;IACpD,MAAM,MAAM,MAAM,2IAAG,CAAC,IAAI,CAAC,UAAU;QAAE;IAAS;IAChD,OAAO,IAAI,IAAI,CAAC,IAAI;AACtB;AAEO,eAAe,eAAe,KAAU;IAC7C,MAAM,MAAM,MAAM,2IAAG,CAAC,IAAI,CAAC,cAAc;QAAE;IAAM;IACjD,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,oBAAoB,OAAe;IACvD,MAAM,MAAM,MAAM,2IAAG,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,mBAAmB,UAAU;IACxE,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,2IAAG,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC;IACtC,OAAO,IAAI,IAAI,CAAC,SAAS;AAC3B"}},
    {"offset": {"line": 3409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"./utils\";\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <DialogPrimitive.Close data-slot=\"dialog-close\" className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <X />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n}\n\nfunction DialogContentWide({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n            \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-1/2 left-1/2 z-50 grid w-full max-w-[min(85vw,1100px)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <DialogPrimitive.Close data-slot=\"dialog-close\" className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <X />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n  DialogContentWide,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,iLAAC,6LAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,iLAAC,gMAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,iLAAC,+LAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,iLAAC,8LAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,iLAAC,gMAAuB;QACtB,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,GAAG,OACkD;IACrD,qBACE,iLAAC;QAAa,aAAU;;0BACtB,iLAAC;;;;;0BACD,iLAAC,gMAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,yJAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;kCACD,iLAAC,8LAAqB;wBAAC,aAAU;wBAAe,WAAU;;0CACxD,iLAAC,oNAAC;;;;;0CACF,iLAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;MAxBS;AA0BT,SAAS,kBAAkB,EACzB,SAAS,EACT,QAAQ,EACR,GAAG,OACkD;IACrD,qBACE,iLAAC;QAAa,aAAU;;0BACtB,iLAAC;;;;;0BACD,iLAAC,gMAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,yJAAE,EACT,gWACF;gBAED,GAAG,KAAK;;oBAER;kCACD,iLAAC,8LAAqB;wBAAC,aAAU;wBAAe,WAAU;;0CACxD,iLAAC,oNAAC;;;;;0CACF,iLAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;MAxBS;AA0BT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,iLAAC,8LAAqB;QACpB,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,iLAAC,oMAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;OAXS"}},
    {"offset": {"line": 3670, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\n\nimport { cn } from \"./utils\";\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,iLAAC,4LAAmB;QAClB,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 3703, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\n\nimport { cn } from \"./utils\";\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-sm p-[3px] flex\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-sm border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,iLAAC,2LAAkB;QACjB,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,iLAAC,2LAAkB;QACjB,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,4GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,iLAAC,8LAAqB;QACpB,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,+nBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,iLAAC,8LAAqB;QACpB,aAAU;QACV,WAAW,IAAA,yJAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 3781, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"./utils\";\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Alert, AlertTitle, AlertDescription };\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0LAAG,EACvB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,iLAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,IAAA,yJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAbS;AAeT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,iLAAC;QACC,aAAU;QACV,WAAW,IAAA,yJAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 3857, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/AuthModal.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from './ui/dialog';\r\nimport { Input } from './ui/input';\r\nimport { Button } from './ui/button';\r\nimport { Label } from './ui/label';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\r\nimport { Alert, AlertDescription } from './ui/alert';\r\nimport { Eye, EyeOff, Info, AlertTriangle } from 'lucide-react';\r\n\r\ninterface AuthModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onLoginSuccess: (user: any) => void;\r\n  message?: string | null;\r\n  initialMode?: 'login' | 'signup';\r\n}\r\n\r\nexport function AuthModal({ isOpen, onClose, onLoginSuccess, message, initialMode = 'login' }: AuthModalProps) {\r\n  const [mode, setMode] = useState<'login' | 'signup'>(initialMode);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (isOpen) {\r\n      setMode(initialMode);\r\n    }\r\n  }, [isOpen, initialMode]);\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      if (!username || !password) {\r\n        throw new Error('Please enter username and password');\r\n      }\r\n      if (mode === 'signup' && password.length < 6) {\r\n        throw new Error('Password must be at least 6 characters');\r\n      }\r\n      if (mode === 'login') {\r\n        const { login } = await import('../lib/auth');\r\n        const user = await login(username, password);\r\n        try { localStorage.setItem('gowatch_user', JSON.stringify(user)); } catch {}\r\n        window.dispatchEvent(new CustomEvent('gowatch:login', { detail: user }));\r\n        onLoginSuccess && onLoginSuccess(user);\r\n      } else {\r\n        const { signup } = await import('../lib/auth');\r\n        const user = await signup(username, password);\r\n        try { localStorage.setItem('gowatch_user', JSON.stringify(user)); } catch {}\r\n        window.dispatchEvent(new CustomEvent('gowatch:login', { detail: user }));\r\n        onLoginSuccess && onLoginSuccess(user);\r\n      }\r\n      onClose();\r\n    } catch (err: any) {\r\n      setError(\r\n        err?.response?.data?.error || err?.response?.data?.stack || err?.message || 'Auth failed'\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={(open: boolean) => { if (!open) onClose(); }}>\r\n  <DialogContent className=\"w-[430px] min-w-[430px] max-w-[430px] h-[520px] px-8 py-6 overflow-hidden [&_[data-slot='dialog-close']]:hidden\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-2xl text-center\">\r\n            {mode === 'login' ? 'Welcome back' : 'Create your account'}\r\n          </DialogTitle>\r\n          <DialogDescription className=\"text-xl text-center\">\r\n            {mode === 'login'\r\n              ? 'Sign in to continue to GoWatch and start saving your favorites on your watchlist.'\r\n              : 'Sign up to begin with GoWatch and start saving favorites to your list today online.'}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"mt-1 min-h-0 overflow-y-auto space-y-3\">\r\n          {message && (\r\n            <Alert>\r\n              <Info className=\"mt-0\" />\r\n              <AlertDescription>{message}</AlertDescription>\r\n            </Alert>\r\n          )}\r\n\r\n          {error && (\r\n            <Alert variant=\"destructive\">\r\n              <AlertDescription>{error}</AlertDescription>\r\n            </Alert>\r\n          )}\r\n\r\n          <Tabs value={mode} onValueChange={(v: string) => setMode((v as 'login' | 'signup'))}>\r\n            <TabsList className=\"w-full\">\r\n              <TabsTrigger value=\"login\">Sign in</TabsTrigger>\r\n              <TabsTrigger value=\"signup\">Create account</TabsTrigger>\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"login\" className=\"mt-2 min-h-[260px]\">\r\n                <div className=\"space-y-6\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"auth-username\" className=\"text-sm font-medium\">Username</Label>\r\n                  <Input\r\n                    id=\"auth-username\"\r\n                    placeholder=\"Username\"\r\n                    value={username}\r\n                    onChange={(e) => setUsername(e.target.value)}\r\n                    className=\"h-10 rounded-lg text-base\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2 mt-2\">\r\n                  <Label htmlFor=\"auth-password\" className=\"text-sm font-medium\">Password</Label>\r\n                  <div className=\"relative\">\r\n                    <Input\r\n                      id=\"auth-password\"\r\n                      placeholder=\"Password\"\r\n                      type={showPassword ? 'text' : 'password'}\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      className=\"h-10 rounded-lg pr-12 text-base\"\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowPassword((v) => !v)}\r\n                      className=\"absolute mt-2 inset-y-0 right-2 grid w-8 place-items-center rounded-none hover:bg-transparent\"\r\n                      aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n                    >\r\n                      {showPassword ? <Eye className=\"h-5 w-5\" /> : <EyeOff className=\"h-5 w-5\" />}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-4 grid grid-cols-2 gap-3\">\r\n                  <Button onClick={onClose} variant=\"outline\" className=\"h-10 rounded-lg w-full\" disabled={loading}>\r\n                    Cancel\r\n                  </Button>\r\n                  <Button onClick={handleSubmit} disabled={loading} className=\"h-10 rounded-lg w-full bg-black text-white hover:bg-black/90\">\r\n                    {loading ? 'Signing in…' : 'Sign in'}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"signup\" className=\"mt-2 min-h-[260px]\">\r\n                <div className=\"space-y-6\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"auth-username-signup\" className=\"text-sm font-medium\">Username</Label>\r\n                  <Input\r\n                    id=\"auth-username-signup\"\r\n                    placeholder=\"Username\"\r\n                    value={username}\r\n                    onChange={(e) => setUsername(e.target.value)}\r\n                    className=\"h-10 rounded-lg text-base\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2 mt-2\">\r\n                  <Label htmlFor=\"auth-password-signup\" className=\"text-sm font-medium\">Password</Label>\r\n                  <div className=\"relative\">\r\n                    <Input\r\n                      id=\"auth-password-signup\"\r\n                      placeholder=\"••••••••\"\r\n                      type={showPassword ? 'text' : 'password'}\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      className=\"h-10 rounded-lg pr-12 text-base\"\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowPassword((v) => !v)}\r\n                      className=\"absolute mt-2 inset-y-0 right-1 grid w-8 place-items-center rounded-none hover:bg-transparent\"\r\n                      aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n                    >\r\n                      {showPassword ? <Eye className=\"h-5 w-5\" /> : <EyeOff className=\"h-5 w-5\" />}\r\n                    </button>\r\n                  </div>\r\n                  {password && password.length < 6 && (\r\n                    <div className=\"relative\">\r\n                      <div className=\"absolute left-1/2 -translate-x-1/2 top-full mt-1 z-50 animate-fade-in\">\r\n                        <div className=\"relative rounded-md border border-gray-300 bg-white text-gray-900 text-sm px-3 py-2 shadow-[0_2px_8px_rgba(0,0,0,0.12)] w-max max-w-[280px]\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <AlertTriangle className=\"h-4 w-4 text-yellow-600\" />\r\n                            <span>Password must be at least 6 characters.</span>\r\n                          </div>\r\n                          <div className=\"absolute left-1/2 -translate-x-1/2 top-0 -translate-y-1/2 h-3 w-3 rotate-45 bg-white border-t border-l border-gray-300\"></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"mt-4 grid grid-cols-2 gap-3\">\r\n                  <Button onClick={onClose} variant=\"outline\" className=\"h-10 rounded-lg w-full\" disabled={loading}>\r\n                    Cancel\r\n                  </Button>\r\n                  <Button onClick={handleSubmit} disabled={loading || password.length < 6} className=\"h-10 rounded-lg w-full bg-black text-white hover:bg-black/90\">\r\n                    {loading ? 'Creating…' : 'Create account'}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </TabsContent>\r\n          </Tabs>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4403, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/WatchlistModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Dialog, DialogContent } from './ui/dialog';\r\nimport { Button } from './ui/button';\r\nimport {\r\n  Heart,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Pencil,\r\n  CheckSquare,\r\n  Square,\r\n  Trash2,\r\n  X,\r\n} from 'lucide-react';\r\nimport { ImageWithFallback } from './figma/ImageWithFallback';\r\n\r\ninterface WatchlistItem {\r\n  id: number;\r\n  movieId: string;\r\n  title: string;\r\n  poster?: string;\r\n}\r\n\r\ninterface WatchlistModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  watchlist: WatchlistItem[];\r\n  onRemove: (movieId: string) => void;\r\n}\r\n\r\nexport function WatchlistModal({\r\n  isOpen,\r\n  onClose,\r\n  watchlist,\r\n  onRemove,\r\n}: WatchlistModalProps) {\r\n  const itemsPerPage = 10; // 5 cols × 2 rows\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n  const totalPages = Math.ceil(watchlist.length / itemsPerPage);\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const currentItems = watchlist.slice(startIndex, startIndex + itemsPerPage);\r\n\r\n  const handlePrev = () => setCurrentPage((prev) => Math.max(prev - 1, 1));\r\n  const handleNext = () =>\r\n    setCurrentPage((prev) => Math.min(prev + 1, totalPages));\r\n\r\n  const toggleEditMode = () => {\r\n    setEditMode(!editMode);\r\n    setSelectedItems([]);\r\n  };\r\n\r\n  const toggleSelect = (movieId: string) => {\r\n    setSelectedItems((prev) =>\r\n      prev.includes(movieId)\r\n        ? prev.filter((id) => id !== movieId)\r\n        : [...prev, movieId]\r\n    );\r\n  };\r\n\r\n  const toggleSelectAll = () => {\r\n    if (selectedItems.length === watchlist.length) {\r\n      setSelectedItems([]);\r\n    } else {\r\n      setSelectedItems(watchlist.map((item) => item.movieId));\r\n    }\r\n  };\r\n\r\n  const confirmDelete = () => {\r\n    if (selectedItems.length > 0) setShowConfirm(true);\r\n  };\r\n\r\n  const cancelDelete = () => setShowConfirm(false);\r\n\r\n  const handleDeleteSelected = () => {\r\n    selectedItems.forEach((id) => onRemove(id));\r\n    setSelectedItems([]);\r\n    setEditMode(false);\r\n    setShowConfirm(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentPage > totalPages && totalPages > 0) {\r\n      setCurrentPage(totalPages);\r\n    } else if (totalPages === 0) {\r\n      setCurrentPage(1);\r\n    }\r\n  }, [totalPages, currentPage]);\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={(open: boolean) => !open && onClose()}>\r\n      <DialogContent\r\n        className=\"p-6 sm:p-6 overflow-hidden\"\r\n        style={{\r\n          width: '880px',\r\n          minWidth: '880px',\r\n          minHeight: '600px',\r\n          maxWidth: 'none',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n        }}\r\n      >\r\n        <div className=\"w-full h-full flex flex-col\">\r\n          <div className=\"mt-4 flex items-center justify-between pb-3 mb-4 border-b border-gray-200 sticky top-0 bg-white z-10\">\r\n            <div className=\"mb-3 flex items-center gap-2 text-gray-900\">\r\n              <Heart className=\"w-5 h-5 text-gray-500\" />\r\n              <h3 className=\"text-xl font-semibold tracking-tight\">\r\n                My Watchlist\r\n              </h3>\r\n              <span className=\"text-sm text-gray-500\">\r\n                ({watchlist.length})\r\n              </span>\r\n            </div>\r\n\r\n            {editMode ? (\r\n              <div className=\"mr-2 flex items-center gap-2\">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  onClick={toggleSelectAll}\r\n                  className=\"font-semibold text-gray-700 hover:text-gray-900\"\r\n                >\r\n                  {selectedItems.length === watchlist.length\r\n                    ? 'Unselect All'\r\n                    : 'Select All'}\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  onClick={confirmDelete}\r\n                  disabled={selectedItems.length === 0}\r\n                  className={`font-semibold flex items-center gap-1 ${\r\n                    selectedItems.length > 0\r\n                      ? 'text-red-600 hover:text-red-700'\r\n                      : 'text-gray-400 cursor-not-allowed'\r\n                  }`}\r\n                >\r\n                  <Trash2 className=\"h-4 w-4\" />\r\n                  Delete\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  onClick={toggleEditMode}\r\n                  className=\"font-semibold text-gray-500 hover:text-gray-700 mr-2\"\r\n                >\r\n                  <X className=\"h-4 w-4 mr-1\" />\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                title=\"Edit Watchlist\"\r\n                onClick={toggleEditMode}\r\n                className=\"h-6 w-6 rounded-full hover:bg-gray-100 mr-2\"\r\n              >\r\n                <Pencil className=\"h-4 w-4 text-gray-700 mr-2\" />\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex-1 flex flex-col overflow-y-auto\">\r\n            {watchlist.length === 0 ? (\r\n              <div className=\"flex-1 grid place-items-center\">\r\n                <p className=\"text-center text-sm text-gray-500\">\r\n                  Your watchlist is empty.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div\r\n                  className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 justify-items-center mb-6\"\r\n                  style={{ minHeight: '462px' }}\r\n                >\r\n                  {currentItems.map((item) => (\r\n                    <div key={item.movieId} className=\"relative w-[110px]\">\r\n                      <div className=\"relative rounded-md overflow-hidden border border-gray-200 bg-white\">\r\n                        {editMode && (  \r\n                          <button\r\n                            onClick={() => toggleSelect(item.movieId)}\r\n                            className=\"absolute top-2 left-2 z-10 bg-white/90 rounded-sm p-1 hover:bg-white\"\r\n                          >\r\n                            {selectedItems.includes(item.movieId) ? (\r\n                              <CheckSquare className=\"h-4 w-4 text-blue-600\" />\r\n                            ) : (\r\n                              <Square className=\"h-4 w-4 text-gray-400\" />\r\n                            )}\r\n                          </button>\r\n                        )}\r\n                        {item.poster ? (\r\n                          <ImageWithFallback\r\n                            src={item.poster}\r\n                            alt={item.title}\r\n                            className=\"w-[110px] h-[150px] object-cover\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"w-[110px] h-[150px] bg-gray-100 grid place-items-center text-gray-400 text-xs\">\r\n                            No image\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {totalPages > 1 && (\r\n                  <div className=\"flex items-center justify-center gap-2 mt-auto pb-1\">\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      onClick={handlePrev}\r\n                      disabled={currentPage === 1}\r\n                      className=\"h-8 w-8\"\r\n                    >\r\n                      <ChevronLeft className=\"h-5 w-5\" />\r\n                    </Button>\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      Page {currentPage} of {totalPages}\r\n                    </span>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      onClick={handleNext}\r\n                      disabled={currentPage === totalPages}\r\n                      className=\"h-8 w-8\"\r\n                    >\r\n                      <ChevronRight className=\"h-5 w-5\" />\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {showConfirm && (\r\n          <div className=\"absolute inset-0 bg-black/40 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-lg shadow-lg p-6 w-[320px] text-center\">\r\n              <h4 className=\"text-lg font-semibold mb-2\">Confirm Deletion</h4>\r\n              <p className=\"text-sm text-gray-600 mb-6\">\r\n                Are you sure you want to delete{' '}\r\n                <span className=\"font-medium\">{selectedItems.length}</span>{' '}\r\n                selected item{selectedItems.length > 1 ? 's' : ''}?\r\n              </p>\r\n              <div className=\"flex justify-center gap-4\">\r\n                <Button\r\n                  onClick={handleDeleteSelected}\r\n                  className=\"flex-1 border-gray-300 text-white hover:bg-gray-100 font-semibold py-2 rounded-lg\"\r\n                >\r\n                  Yes, Delete\r\n                </Button>\r\n                <Button\r\n                  onClick={cancelDelete}\r\n                  variant=\"outline\"\r\n                  className=\"flex-1 border-gray-300 text-gray-700 hover:bg-gray-100 font-semibold py-2 rounded-lg transition-colors\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4865, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/ProfileModal.tsx"],"sourcesContent":["import React, { useMemo, useRef, useState } from 'react';\r\nimport { Dialog, DialogContentWide, DialogHeader, DialogTitle, DialogDescription, DialogContent, DialogFooter } from './ui/dialog';\r\nimport { Avatar, AvatarFallback, AvatarImage } from './ui/avatar';\r\nimport { Button } from './ui/button';\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger, DropdownMenuSeparator } from './ui/dropdown-menu';\r\nimport { Input } from './ui/input';\r\nimport { Label } from './ui/label';\r\nimport { Eye, EyeOff, BadgeCheck, AlertTriangle, Trash2, MoreVertical } from 'lucide-react';\r\nimport { mediaUrl } from '../lib/api';\r\n\r\ninterface ProfileModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  user: { username?: string; avatarUrl?: string } | null;\r\n}\r\n\r\nexport function ProfileModal({ isOpen, onClose, user }: ProfileModalProps) {\r\n  const rawName = (user?.username || '').trim();\r\n  const [username, setUsername] = useState<string>(rawName || '');\r\n  const [password, setPassword] = useState<string>('');\r\n  const [showPassword, setShowPassword] = useState<boolean>(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [avatarPreview, setAvatarPreview] = useState<string | null>(user?.avatarUrl ? mediaUrl(user.avatarUrl) : null);\r\n  const [avatarFile, setAvatarFile] = useState<File | null>(null);\r\n  const [avatarRemoved, setAvatarRemoved] = useState<boolean>(false);\r\n  const [confirmPassword, setConfirmPassword] = useState<string>('');\r\n  const [confirmDirty, setConfirmDirty] = useState<boolean>(false);\r\n  const [confirmOpen, setConfirmOpen] = useState<boolean>(false);\r\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  const displayName = useMemo(() => {\r\n    return rawName ? rawName.charAt(0).toUpperCase() + rawName.slice(1) : '';\r\n  }, [rawName]);\r\n\r\n  const initials = useMemo(() => {\r\n    const n = rawName || 'U';\r\n    return n\r\n      .split(' ')\r\n      .map((x: string) => x[0])\r\n      .filter(Boolean)\r\n      .slice(0, 2)\r\n      .join('')\r\n      .toUpperCase();\r\n  }, [rawName]);\r\n\r\n  const onPickAvatar = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  const onAvatarChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    const file = e.target.files && e.target.files[0];\r\n    if (!file) return;\r\n    setAvatarFile(file);\r\n    const url = URL.createObjectURL(file);\r\n    setAvatarPreview(url);\r\n    try { window.dispatchEvent(new CustomEvent('gowatch:avatar:preview', { detail: url })); } catch {}\r\n    setAvatarRemoved(false);\r\n  };\r\n\r\n  const handleRemoveAvatar = () => {\r\n    setAvatarPreview(null);\r\n    setAvatarFile(null);\r\n    try { window.dispatchEvent(new CustomEvent('gowatch:avatar:preview', { detail: null })); } catch {}\r\n    setAvatarRemoved(true);\r\n  };\r\n\r\n  const usernameChanged = (username || '').trim() !== (rawName || '');\r\n  const passwordValid = !password || password.length >= 6;\r\n  const passwordsMatch = !password || password === confirmPassword;\r\n  const isDirty = usernameChanged || !!password || !!avatarFile || avatarRemoved;\r\n  const canSave = isDirty && passwordValid && passwordsMatch && !saving;\r\n\r\n  const handleDelete = async () => {\r\n    setSaving(true);\r\n    setError(null);\r\n    try {\r\n      const { deleteAccount } = await import('../lib/auth');\r\n      await deleteAccount();\r\n\r\n      try { localStorage.removeItem('gowatch_user'); } catch {}\r\n      try { localStorage.removeItem('gowatch_token'); } catch {}\r\n      try { window.dispatchEvent(new CustomEvent('gowatch:logout')); } catch {}\r\n      try { window.dispatchEvent(new CustomEvent('gowatch:avatar:preview', { detail: null })); } catch {}\r\n      try { window.dispatchEvent(new CustomEvent('gowatch:toast', { detail: { message: 'Account deleted', type: 'success' } })); } catch {}\r\n\r\n  // Redirect straight to the landing page (no blank screen)\r\n  try { onClose(); } catch {}\r\n  window.location.replace('/');\r\n  return;\r\n    } catch (err: any) {\r\n      const msg = err?.response?.data?.error || err?.message || 'Failed to delete account';\r\n      setError(msg);\r\n      try { window.dispatchEvent(new CustomEvent('gowatch:toast', { detail: { message: msg, type: 'error' } })); } catch {}\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    setError(null);\r\n    try {\r\n      let updatedUser: any = user || {};\r\n\r\n      if (avatarRemoved && !avatarFile) {\r\n        const { removeAvatar } = await import('../lib/auth');\r\n        updatedUser = await removeAvatar();\r\n      }\r\n      if (avatarFile) {\r\n        const { uploadAvatar } = await import('../lib/auth');\r\n        updatedUser = await uploadAvatar(avatarFile);\r\n      }\r\n\r\n      const fields: any = {};\r\n      if (username && username !== rawName) fields.username = username.trim();\r\n      if (password) fields.password = password;\r\n      if (Object.keys(fields).length) {\r\n        const { updateProfile } = await import('../lib/auth');\r\n        updatedUser = await updateProfile(fields);\r\n      }\r\n\r\n      if (updatedUser) {\r\n        try { localStorage.setItem('gowatch_user', JSON.stringify(updatedUser)); } catch {}\r\n        try { window.dispatchEvent(new CustomEvent('gowatch:login', { detail: updatedUser })); } catch {}\r\n        try { window.dispatchEvent(new CustomEvent('gowatch:toast', { detail: { message: 'Profile updated', type: 'success' } })); } catch {}\r\n        \r\n        if (updatedUser.avatarUrl) {\r\n          const fullUrl = mediaUrl(updatedUser.avatarUrl);\r\n          setAvatarPreview(fullUrl);\r\n          setAvatarFile(null);\r\n          setAvatarRemoved(false);\r\n        } else if (avatarRemoved) {\r\n          setAvatarPreview(null);\r\n        }\r\n      }\r\n      onClose();\r\n    } catch (err: any) {\r\n      const msg = err?.response?.data?.error || err?.message || 'Failed to update profile';\r\n      setError(msg);\r\n      try { window.dispatchEvent(new CustomEvent('gowatch:toast', { detail: { message: msg, type: 'error' } })); } catch {}\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={(open: boolean) => { if (!open) onClose(); }}>\r\n      <DialogContentWide className=\"max-w-none w-[min(96vw,1100px)] max-h-[90vh] px-8 py-8 overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-xl text-center\">User profile</DialogTitle>\r\n          <DialogDescription className=\"text-base\">\r\n            Manage your information and your account settings.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        <div className=\"mt-2 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <Avatar className=\"h-16 w-16 min-w-[64px] min-h-[64px] max-w-[64px] max-h-[64px] border border-black/10 bg-white\">\r\n              {avatarPreview ? (\r\n                <AvatarImage src={avatarPreview} alt={displayName} className=\"object-cover object-center\" />\r\n              ) : null}\r\n              <AvatarFallback className=\"bg-sky-500/90 text-black text-xl font-semibold\">\r\n                {initials}\r\n              </AvatarFallback>\r\n            </Avatar>\r\n            <div>\r\n              <div className=\"text-base font-medium\">{displayName || 'Your name'}</div>\r\n              <div className=\"text-sm text-muted-foreground\">{rawName ? `${rawName}@gowatch.app` : 'No email on file'}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <DropdownMenu>\r\n              <DropdownMenuTrigger asChild>\r\n                <Button type=\"button\" variant=\"ghost\" size=\"icon\" title=\"More actions\" className=\"h-8 w-8 rounded-full\">\r\n                  <MoreVertical className=\"h-4 w-4\" />\r\n                </Button>\r\n              </DropdownMenuTrigger>\r\n              <DropdownMenuContent align=\"end\" className=\"w-44 text-center\">\r\n                <DropdownMenuItem className=\"justify-center\" onClick={onPickAvatar}>{avatarPreview ? 'Change photo' : 'Add photo'}</DropdownMenuItem>\r\n                <DropdownMenuItem className=\"justify-center\" variant=\"destructive\" onClick={handleRemoveAvatar} disabled={!avatarPreview}>\r\n                  Remove photo\r\n                </DropdownMenuItem>\r\n                <DropdownMenuSeparator />\r\n                <DropdownMenuItem className=\"justify-center\" variant=\"destructive\" onClick={() => setConfirmOpen(true)}>\r\n                  Delete account\r\n                </DropdownMenuItem>\r\n              </DropdownMenuContent>\r\n            </DropdownMenu>\r\n            <input ref={fileInputRef} type=\"file\" accept=\"image/*\" className=\"hidden\" onChange={onAvatarChange} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-5 divide-y\">\r\n          <div className=\"py-5 grid grid-cols-12 gap-4 items-center mt-0\">\r\n            <div className=\"col-span-12 sm:col-span-3\">\r\n              <Label htmlFor=\"profile-username\" className=\"text-sm font-medium\">Username</Label>\r\n            </div>\r\n            <div className=\"col-span-12 sm:col-span-9\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"relative w-full\">\r\n                  <Input\r\n                    id=\"profile-username\"\r\n                    value={username}\r\n                    onChange={(e) => setUsername(e.target.value)}\r\n                    className=\"h-10 rounded-lg pr-9 text-base\"\r\n                  />\r\n                  <BadgeCheck className=\"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 text-sky-600\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"py-5 grid grid-cols-12 gap-4 items-start relative\">\r\n            <div className=\"col-span-12 sm:col-span-3 mt-2\">\r\n              <Label htmlFor=\"profile-password\" className=\"text-sm font-medium\">New password</Label>\r\n            </div>\r\n            <div className=\"col-span-12 sm:col-span-9 relative\">\r\n              <div className=\"relative\">\r\n                <Input\r\n                  id=\"profile-password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  placeholder=\"********\"\r\n                  className=\"h-10 rounded-lg pr-9 text-base\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(v => !v)}\r\n                  className=\"absolute right-2 top-1/2 -translate-y-1/2 grid place-items-center rounded-md hover:bg-muted/60\"\r\n                >\r\n                  {showPassword ? <Eye className=\"h-5 w-5\" /> : <EyeOff className=\"h-5 w-5\" />}\r\n                </button>\r\n              </div>\r\n              {password && password.length < 6 && (\r\n                <div className=\"absolute left-1/2 -translate-x-1/2 top-full mt-1 z-50 animate-fade-in\">\r\n                  <div className=\"relative rounded-md border border-gray-300 bg-white text-gray-900 text-sm px-3 py-2 shadow-[0_2px_8px_rgba(0,0,0,0.12)] w-max max-w-[280px]\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <AlertTriangle className=\"h-4 w-4 text-yellow-600\" />\r\n                      <span>Password must be at least 6 characters.</span>\r\n                    </div>\r\n                    <div className=\"absolute left-1/2 -translate-x-1/2 top-0 -translate-y-1/2 h-3 w-3 rotate-45 bg-white border-t border-l border-gray-300\"></div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"py-5 grid grid-cols-12 gap-4 items-center relative\">\r\n            <div className=\"col-span-12 sm:col-span-3 mt-2\">\r\n              <Label htmlFor=\"profile-password-confirm\" className=\"text-sm font-medium\">Confirm password</Label>\r\n            </div>\r\n            <div className=\"col-span-12 sm:col-span-9 relative\">\r\n              <Input\r\n                id=\"profile-password-confirm\"\r\n                type={showPassword ? 'text' : 'password'}\r\n                value={confirmPassword}\r\n                onChange={(e) => { setConfirmPassword(e.target.value); setConfirmDirty(true); }}\r\n                placeholder=\"********\"\r\n                className=\"h-10 rounded-lg text-base\"\r\n              />\r\n              {password && confirmDirty && !!confirmPassword && password !== confirmPassword && (\r\n                <div className=\"absolute left-1/2 -translate-x-1/2 top-full mt-1 z-50 animate-fade-in\">\r\n                  <div className=\"relative rounded-md border border-gray-300 bg-white text-gray-900 text-sm px-3 py-2 shadow-[0_2px_8px_rgba(0,0,0,0.12)] w-max max-w-[280px]\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <AlertTriangle className=\"h-4 w-4 text-yellow-600\" />\r\n                      <span>Passwords do not match.</span>\r\n                    </div>\r\n                    <div className=\"absolute left-1/2 -translate-x-1/2 top-0 -translate-y-1/2 h-3 w-3 rotate-45 bg-white border-t border-l border-gray-300\"></div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"mt-3 text-sm text-red-600\">{error}</div>\r\n        )}\r\n\r\n        <div className=\"flex flex-col-reverse sm:flex-row sm:items-center sm:justify-end mt-3 gap-3\">\r\n          <div className=\"flex gap-3\">\r\n            <Button onClick={onClose} variant=\"outline\" className=\"px-4 h-10 rounded-lg\" disabled={saving}>\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleSave}\r\n              className=\"px-6 h-10 rounded-lg bg-black text-white hover:bg-black/90\"\r\n              disabled={!canSave}\r\n            >\r\n              {saving ? 'Saving…' : 'Save changes'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </DialogContentWide>\r\n\r\n      <Dialog open={confirmOpen} onOpenChange={(o) => setConfirmOpen(o)}>\r\n        <DialogContent className=\"min-w-[150px] max-w-[150px]\">\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"flex-1\">\r\n              <DialogHeader>\r\n                <DialogTitle className=\"text-xl\">Delete account</DialogTitle>\r\n                <DialogDescription>\r\n                  This will permanently remove your account, profile details, avatar, and your entire watchlist. This action cannot be undone.\r\n                </DialogDescription>\r\n              </DialogHeader>\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => setConfirmOpen(false)}\r\n              disabled={saving}\r\n              className=\"h-10 rounded-lg\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"destructive\"\r\n              onClick={async () => { setConfirmOpen(false); await handleDelete(); }}\r\n              disabled={saving}\r\n              className=\"h-10 rounded-lg\"\r\n            >\r\n              {saving ? 'Deleting…' : 'Delete permanently'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5717, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/GlobalModals.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Toaster, toast } from 'sonner';\r\nimport { AuthModal } from './AuthModal';\r\nimport { WatchlistModal } from './WatchlistModal';\r\nimport { ProfileModal } from './ProfileModal';\r\nimport { getWatchlist, addToWatchlist, removeFromWatchlist } from '../lib/watchlist';\r\nimport { setAuthToken } from '../lib/api';\r\n\r\nexport default function GlobalModals() {\r\n  const [isAuthOpen, setIsAuthOpen] = useState(false);\r\n  const [isWatchlistOpen, setIsWatchlistOpen] = useState(false);\r\n  const [isProfileOpen, setIsProfileOpen] = useState(false);\r\n  const [authMessage, setAuthMessage] = useState<string | null>(null);\r\n  const [authMode, setAuthMode] = useState<'login' | 'signup'>('login');\r\n  const [currentUser, setCurrentUser] = useState<any>(null);\r\n  const [watchlist, setWatchlist] = useState<any[]>([]);\r\n  const [toastState, setToastState] = useState<{ message: string; type?: 'success' | 'error' | 'info' } | null>(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem('gowatch_user');\r\n      if (raw) {\r\n        const u = JSON.parse(raw);\r\n        setCurrentUser(u);\r\n        try { const t = localStorage.getItem('gowatch_token'); if (t) setAuthToken(t); } catch {}\r\n        (async () => {\r\n          try {\r\n            const wl = await getWatchlist();\r\n            setWatchlist(wl || []);\r\n          } catch (err) {\r\n          }\r\n        })();\r\n      }\r\n    } catch {}\r\n\r\n    const onOpenAuth = (e?: any) => {\r\n      const msg = e?.detail?.message || null;\r\n      const mode = e?.detail?.mode === 'signup' ? 'signup' : 'login';\r\n      setAuthMessage(msg);\r\n      setAuthMode(mode);\r\n      setIsAuthOpen(true);\r\n    };\r\n\r\n    const onOpenWatchlist = () => {\r\n      // check persisted user at the time of opening (avoid stale closure over currentUser)\r\n      try {\r\n        const raw = localStorage.getItem('gowatch_user');\r\n        if (raw) {\r\n          // refresh from server so modal is always up-to-date when opened\r\n          (async () => {\r\n            try { const t = localStorage.getItem('gowatch_token'); if (t) setAuthToken(t); } catch {}\r\n            try {\r\n              const wl = await getWatchlist();\r\n              setWatchlist(wl || []);\r\n            } catch {}\r\n            setIsWatchlistOpen(true);\r\n          })();\r\n          return;\r\n        }\r\n      } catch {}\r\n\r\n      // not signed in -> open auth modal with instructive message\r\n      setAuthMessage('Please Login in or Create an Account to open watchlist.');\r\n      setIsAuthOpen(true);\r\n    };\r\n\r\n  const onLogin = async (e: any) => {\r\n      const user = e?.detail;\r\n      if (!user) return;\r\n      setCurrentUser(user);\r\n      try { const t = localStorage.getItem('gowatch_token'); if (t) setAuthToken(t); } catch {}\r\n      try {\r\n            const wl = await getWatchlist();\r\n            setWatchlist(wl || []);\r\n      } catch (err) {\r\n        console.warn('GlobalModals: failed to load watchlist after login', err);\r\n      }\r\n    };\r\n\r\n    const onLogout = () => {\r\n      setCurrentUser(null);\r\n      setWatchlist([]);\r\n      setIsAuthOpen(false);\r\n      setIsWatchlistOpen(false);\r\n      setAuthMessage(null);\r\n      try { localStorage.removeItem('gowatch_user'); } catch {}\r\n      try { localStorage.removeItem('gowatch_token'); } catch {}\r\n      try { setAuthToken(null); } catch {}\r\n    };\r\n\r\n    const onOpenProfile = () => {\r\n      try {\r\n        const raw = localStorage.getItem('gowatch_user');\r\n        if (!raw) {\r\n          setAuthMessage('Please Login in or Create an Account to view profile.');\r\n          setIsAuthOpen(true);\r\n          return;\r\n        }\r\n        setIsProfileOpen(true);\r\n      } catch {\r\n        setIsProfileOpen(true);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('gowatch:openAuth', onOpenAuth as EventListener);\r\n    window.addEventListener('gowatch:openWatchlist', onOpenWatchlist as EventListener);\r\n    window.addEventListener('gowatch:openProfile', onOpenProfile as EventListener);\r\n    window.addEventListener('gowatch:login', onLogin as EventListener);\r\n    window.addEventListener('gowatch:logout', onLogout as EventListener);\r\n\r\n    return () => {\r\n      window.removeEventListener('gowatch:openAuth', onOpenAuth as EventListener);\r\n      window.removeEventListener('gowatch:openWatchlist', onOpenWatchlist as EventListener);\r\n      window.removeEventListener('gowatch:openProfile', onOpenProfile as EventListener);\r\n      window.removeEventListener('gowatch:login', onLogin as EventListener);\r\n      window.removeEventListener('gowatch:logout', onLogout as EventListener);\r\n    };\r\n  }, []);\r\n\r\n  // Listen for cross-component watchlist updates to reflect in the modal immediately\r\n  useEffect(() => {\r\n    const onAdded = (e: any) => {\r\n      const item = e?.detail;\r\n      if (!item) return;\r\n      setWatchlist(prev => [item, ...(prev || []).filter(i => String(i.movieId) !== String(item.movieId))]);\r\n    };\r\n    const onRemoved = (e: any) => {\r\n      const id = e?.detail?.movieId ?? e?.detail;\r\n      if (id == null) return;\r\n      setWatchlist(prev => (prev || []).filter(i => String(i.movieId) !== String(id)));\r\n    };\r\n    window.addEventListener('gowatch:watchlist:added', onAdded as EventListener);\r\n    window.addEventListener('gowatch:watchlist:removed', onRemoved as EventListener);\r\n    return () => {\r\n      window.removeEventListener('gowatch:watchlist:added', onAdded as EventListener);\r\n      window.removeEventListener('gowatch:watchlist:removed', onRemoved as EventListener);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onToast = (e: any) => {\r\n      const d = e?.detail;\r\n      if (!d || !d.message) return;\r\n      setToastState({ message: d.message, type: d.type });\r\n      try {\r\n        const kind = (d.type || 'success') as 'success' | 'error' | 'info';\r\n        // @ts-ignore\r\n        toast[kind] ? (toast as any)[kind](d.message) : toast(d.message);\r\n      } catch {\r\n        toast(d.message);\r\n      }\r\n      setTimeout(() => setToastState(null), 3500);\r\n    };\r\n    window.addEventListener('gowatch:toast', onToast as EventListener);\r\n    return () => window.removeEventListener('gowatch:toast', onToast as EventListener);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!currentUser) return;\r\n      try {\r\n        const wl = await getWatchlist();\r\n        setWatchlist(wl || []);\r\n      } catch (err) {\r\n        console.warn('GlobalModals: failed loading watchlist', err);\r\n      }\r\n    })();\r\n  }, [currentUser]);\r\n\r\n  const closeAuth = () => setIsAuthOpen(false);\r\n  const closeWatchlist = () => setIsWatchlistOpen(false);\r\n  const closeProfile = () => setIsProfileOpen(false);\r\n\r\n  const handleRemove = async (movieId: string) => {\r\n    if (!currentUser) return;\r\n    try {\r\n      const r = await removeFromWatchlist(movieId);\r\n      if (r && (r.deleted === undefined || r.deleted >= 0)) {\r\n        setWatchlist(prev => (prev || []).filter(i => String(i.movieId) !== String(movieId)));\r\n        try { window.dispatchEvent(new CustomEvent('gowatch:watchlist:removed', { detail: { movieId } })); } catch {}\r\n      } else {\r\n        const wl = await getWatchlist();\r\n        setWatchlist(wl || []);\r\n      }\r\n  try { setToastState({ message: 'Removed from watchlist', type: 'info' }); } catch {}\r\n    } catch (err) {\r\n      console.warn('GlobalModals: remove failed', err);\r\n  try { setToastState({ message: 'Failed to remove from watchlist', type: 'error' }); } catch {}\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isAuthOpen && (\r\n        <AuthModal\r\n          isOpen={isAuthOpen}\r\n          onClose={() => {\r\n            closeAuth();\r\n            setAuthMessage(null);\r\n          }}\r\n          onLoginSuccess={async (user: any) => {\r\n            try { localStorage.setItem('gowatch_user', JSON.stringify(user)); } catch {}\r\n            window.dispatchEvent(new CustomEvent('gowatch:login', { detail: user }));\r\n            setIsAuthOpen(false);\r\n            setAuthMessage(null);\r\n          }}\r\n          message={authMessage}\r\n          initialMode={authMode}\r\n        />\r\n      )}\r\n\r\n      {isWatchlistOpen && (\r\n        <WatchlistModal\r\n          isOpen={isWatchlistOpen}\r\n          onClose={closeWatchlist}\r\n          watchlist={watchlist}\r\n          onRemove={handleRemove}\r\n        />\r\n      )}\r\n\r\n      {isProfileOpen && (\r\n        <ProfileModal isOpen={isProfileOpen} onClose={closeProfile} user={currentUser} />\r\n      )}\r\n\r\n      {toastState && (\r\n        <div className={`fixed bottom-6 right-6 z-50 px-4 py-2 rounded shadow-lg text-white ${toastState.type === 'error' ? 'bg-red-600' : 'bg-green-600'}`}>\r\n          {toastState.message}\r\n        </div>\r\n      )}\r\n      <Toaster richColors position=\"bottom-right\" />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6065, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/components/MainPage.tsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Header } from './Header';\r\nimport { MovieCarousel } from './MovieCarousel';\r\nimport { GenreFilter } from './GenreFilter';\r\nimport { MovieGrid } from './MovieGrid';\r\nimport { MovieModal } from './MovieModal';\r\nimport { Footer } from './Footer';\r\nimport { getWatchlist, addToWatchlist } from '../lib/watchlist';\r\nimport { setAuthToken } from '../lib/api';\r\nimport GlobalModals from './GlobalModals';\r\n\r\n\r\nconst genreMap: { [id: number]: string } = {\r\n  28: 'Action',\r\n  12: 'Adventure',\r\n  16: 'Animation',\r\n  35: 'Comedy',\r\n  80: 'Crime',\r\n  99: 'Documentary',\r\n  18: 'Drama',\r\n  10751: 'Family',\r\n  14: 'Fantasy',\r\n  36: 'History',\r\n  27: 'Horror',\r\n  10402: 'Music',\r\n  9648: 'Mystery',\r\n  10749: 'Romance',\r\n  878: 'Sci-Fi',\r\n  10770: 'TV Movie',\r\n  53: 'Thriller',\r\n  10752: 'War',\r\n  37: 'Western',\r\n};\r\n\r\nconst allGenres = Array.from(new Set(Object.values(genreMap)));\r\n\r\ninterface Movie {\r\n  id: string;\r\n  title: string;\r\n  year: number;\r\n  rating: number;\r\n  genre: string[];\r\n  image: string;\r\n  description?: string;\r\n}\r\n\r\ninterface MainPageProps {\r\n  initialSearchQuery?: string;\r\n}\r\n\r\nconst MainPage: React.FC<MainPageProps> = ({ initialSearchQuery = '' }) => {\r\n  const [searchQuery, setSearchQuery] = useState(initialSearchQuery);\r\n  const [selectedGenres, setSelectedGenres] = useState<string[]>([]);\r\n  const [selectedMovie, setSelectedMovie] = useState<Movie | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [movies, setMovies] = useState<Movie[]>([]);\r\n  const [currentUser, setCurrentUser] = useState<any>(null);\r\n  const [watchlist, setWatchlist] = useState<any[]>([]);\r\n  const [isAuthOpen, setIsAuthOpen] = useState(false);\r\n  const [authMessage, setAuthMessage] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem('gowatch_user');\r\n      if (raw) {\r\n        const user = JSON.parse(raw);\r\n        setCurrentUser(user);\r\n        try { const t = localStorage.getItem('gowatch_token'); if (t) setAuthToken(t); } catch {}\r\n        (async () => {\r\n          try {\r\n            const wl = await getWatchlist();\r\n            setWatchlist(wl || []);\r\n          } catch (err) {\r\n            console.warn('could not load watchlist on restore', err);\r\n          }\r\n        })();\r\n      }\r\n    } catch {}\r\n\r\n    const onLogin = async (e: any) => {\r\n      const user = e?.detail;\r\n      if (!user) return;\r\n      setCurrentUser(user);\r\n      try { const t = localStorage.getItem('gowatch_token'); if (t) setAuthToken(t); } catch {}\r\n      try {\r\n        const wl = await getWatchlist();\r\n        setWatchlist(wl || []);\r\n      } catch (err) {\r\n        console.warn('could not load watchlist after login', err);\r\n      }\r\n    };\r\n\r\n    const onOpenAuth = () => setIsAuthOpen(true);\r\n\r\n    const onSaveMovie = async (e: any) => {\r\n      const movie: Movie | undefined = e?.detail;\r\n      if (!movie) return;\r\n      if (!currentUser) {\r\n        try {\r\n          window.dispatchEvent(new CustomEvent('gowatch:openAuth', { detail: { message: 'Please Login in or Create an Account to open watchlist.', mode: 'signup' } }));\r\n        } catch {}\r\n        return;\r\n      }\r\n      try {\r\n        const r = await addToWatchlist({ id: movie.id, title: movie.title, poster: movie.image });\r\n        const newItem = r && r.item ? r.item : null;\r\n        if (newItem) {\r\n          setWatchlist(prev => [newItem, ...(prev || []).filter(i => String(i.movieId) !== String(newItem.movieId))]);\r\n          try { window.dispatchEvent(new CustomEvent('gowatch:watchlist:added', { detail: newItem })); } catch {}\r\n        } else {\r\n          const wl = await getWatchlist();\r\n          setWatchlist(wl || []);\r\n        }\r\n        try { window.dispatchEvent(new CustomEvent('gowatch:toast', { detail: { message: 'Saved to watchlist', type: 'success' } })); } catch {}\r\n      } catch (err) {\r\n        console.warn('save movie failed', err);\r\n        try { window.dispatchEvent(new CustomEvent('gowatch:toast', { detail: { message: 'Failed to save movie', type: 'error' } })); } catch {}\r\n      }\r\n    };\r\n\r\n    const onWlAdded = (e: any) => {\r\n      const item = e?.detail;\r\n      if (!item) return;\r\n      setWatchlist(prev => [item, ...(prev || []).filter(i => String(i.movieId) !== String(item.movieId))]);\r\n    };\r\n    const onWlRemoved = (e: any) => {\r\n      const id = e?.detail?.movieId ?? e?.detail;\r\n      if (id == null) return;\r\n      setWatchlist(prev => (prev || []).filter(i => String(i.movieId) !== String(id)));\r\n    };\r\n\r\n    window.addEventListener('gowatch:login', onLogin as EventListener);\r\n    window.addEventListener('gowatch:openAuth', onOpenAuth as EventListener);\r\n    window.addEventListener('gowatch:saveMovie', onSaveMovie as EventListener);\r\n    window.addEventListener('gowatch:watchlist:added', onWlAdded as EventListener);\r\n    window.addEventListener('gowatch:watchlist:removed', onWlRemoved as EventListener);\r\n\r\n    return () => {\r\n      window.removeEventListener('gowatch:login', onLogin as EventListener);\r\n      window.removeEventListener('gowatch:openAuth', onOpenAuth as EventListener);\r\n      window.removeEventListener('gowatch:saveMovie', onSaveMovie as EventListener);\r\n      window.removeEventListener('gowatch:watchlist:added', onWlAdded as EventListener);\r\n      window.removeEventListener('gowatch:watchlist:removed', onWlRemoved as EventListener);\r\n    };\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    const TMDB_API_KEY = '6ca1b09b9b4d7b85f93570a942e26c09';\r\n    axios.get(`https://api.themoviedb.org/3/trending/movie/week?api_key=${TMDB_API_KEY}`)\r\n      .then(res => {\r\n  const mapped = res.data.results.map((m: any) => ({\r\n          id: m.id,\r\n          title: m.title,\r\n          year: m.release_date ? Number(m.release_date.slice(0, 4)) : 0,\r\n          rating: m.vote_average,\r\n          genre: m.genre_ids.map((id: number) => genreMap[id] || 'Unknown'),\r\n          image: m.poster_path ? `https://image.tmdb.org/t/p/w500${m.poster_path}` : '',\r\n          description: m.overview\r\n        }));\r\n        setMovies(mapped);\r\n      });\r\n\r\n    (async () => {\r\n      try {\r\n      } catch (err) {\r\n        console.warn('watchlist init failed', err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const filteredMovies = useMemo(() => {\r\n    return movies.filter(movie => {\r\n      const matchesGenre = selectedGenres.length === 0 || \r\n        selectedGenres.some(genre => movie.genre.includes(genre));\r\n      const matchesSearch = searchQuery.trim() === '' || movie.title.toLowerCase().includes(searchQuery.toLowerCase());\r\n      return matchesGenre && matchesSearch;\r\n    });\r\n  }, [selectedGenres, movies, searchQuery]);\r\n\r\n  const handleGenreToggle = (genre: string) => {\r\n    setSelectedGenres(prev => \r\n      prev.includes(genre) \r\n        ? prev.filter(g => g !== genre)\r\n        : [...prev, genre]\r\n    );\r\n  };\r\n\r\n  const handleMovieClick = (movie: Movie) => {\r\n    setSelectedMovie(movie);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedMovie(null);\r\n  };\r\n\r\n  const openWatchlist = () => {\r\n    try { window.dispatchEvent(new CustomEvent('gowatch:openWatchlist')); } catch { /* no-op */ }\r\n  };\r\n\r\n  const closeWatchlist = () => {\r\n    try { window.dispatchEvent(new CustomEvent('gowatch:closeWatchlist')); } catch { /* no-op */ }\r\n  };\r\n\r\n  const openAuth = () => {\r\n    try { window.dispatchEvent(new CustomEvent('gowatch:openAuth')); } catch { /* no-op */ }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    try { localStorage.removeItem('gowatch_user'); } catch {}\r\n    try { localStorage.removeItem('gowatch_token'); } catch {}\r\n    try { setAuthToken(null); } catch {}\r\n    setCurrentUser(null);\r\n    setWatchlist([]);\r\n    try { window.dispatchEvent(new CustomEvent('gowatch:logout')); } catch {}\r\n  };\r\n\r\n  const closeAuth = () => {\r\n    try { window.dispatchEvent(new CustomEvent('gowatch:closeAuth')); } catch { }\r\n  };\r\n\r\n  const handleCloseAuth = () => {\r\n    setIsAuthOpen(false);\r\n    setAuthMessage(null);\r\n  };\r\n\r\n  const handleRemoveFromWatchlist = async (movieId: string) => {\r\n    if (!currentUser) return;\r\n    try {\r\n  const { removeFromWatchlist } = await import('../lib/watchlist');\r\n  const r = await removeFromWatchlist(movieId);\r\n  if (r && (r.deleted === undefined || r.deleted >= 0)) {\r\n    setWatchlist(prev => (prev || []).filter(i => String(i.movieId) !== String(movieId)));\r\n  } else {\r\n    const wl = await getWatchlist();\r\n    setWatchlist(wl || []);\r\n  }\r\n    } catch (err) {\r\n      console.warn('remove failed', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen\" style={{ backgroundColor: '#EFE4F4' }}>\r\n  <Header onSearch={setSearchQuery} showNavigation onOpenWatchlist={openWatchlist} onOpenAuth={openAuth} watchlistCount={watchlist.length} currentUser={currentUser} onLogout={handleLogout} />\r\n      <main className=\"max-w-7xl mx-auto px-4 py-8 lg:px-8 pb-32 mt-40\">\r\n        <br />\r\n        <br />\r\n        <br />\r\n          {searchQuery.trim() === '' && (\r\n            <MovieCarousel \r\n              movies={\r\n                [...movies]\r\n                  .filter(m => m.year && !isNaN(Number(m.year)))\r\n                  .sort((a, b) => {\r\n                    const yearDiff = Number(b.year) - Number(a.year);\r\n                    if (yearDiff !== 0) return yearDiff;\r\n                    return b.rating - a.rating;\r\n                  })\r\n                  .slice(0, 5)\r\n              }\r\n              onMovieClick={handleMovieClick}\r\n            />\r\n          )}\r\n          <br />\r\n        <GenreFilter \r\n          genres={allGenres}\r\n          selectedGenres={selectedGenres}\r\n          onGenreToggle={handleGenreToggle}\r\n        />\r\n        <MovieGrid \r\n          title=\"Results\"\r\n          movies={filteredMovies}\r\n          onMovieClick={handleMovieClick}\r\n          demoUserId={currentUser?.id ?? null}\r\n          watchlistIds={watchlist.map((i) => i.movieId)}\r\n        />\r\n      </main>\r\n      <MovieModal \r\n        movie={selectedMovie}\r\n        isOpen={isModalOpen}\r\n        onClose={closeModal}\r\n        isSaved={selectedMovie ? watchlist.map((i) => String(i.movieId)).includes(String(selectedMovie.id)) : false}\r\n      />\r\n      <GlobalModals />\r\n      {filteredMovies.length === 0 ? (\r\n        <Footer fixed />\r\n      ) : (\r\n        <Footer />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/src/App.tsx"],"sourcesContent":["import { useState } from 'react';\nimport LandingPage from './components/LandingPage';\nimport MainPage from './components/MainPage';\n\nexport default function App() {\n  const [currentView, setCurrentView] = useState<'landing' | 'main'>('landing');\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleEnter = (query: string) => {\n    setSearchQuery(query);\n    setCurrentView('main');\n  };\n\n  return (\n    currentView === 'landing' ? (\n      <LandingPage onEnter={handleEnter} />\n    ) : (\n      <MainPage initialSearchQuery={searchQuery} />\n    )\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAEe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6JAAQ,EAAqB;IACnE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6JAAQ,EAAC;IAE/C,MAAM,cAAc,CAAC;QACnB,eAAe;QACf,eAAe;IACjB;IAEA,OACE,gBAAgB,0BACd,iLAAC,+JAAW;QAAC,SAAS;;;;;6BAEtB,iLAAC,4JAAQ;QAAC,oBAAoB;;;;;;AAGpC;GAhBwB;KAAA"}},
    {"offset": {"line": 6563, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/xneam/Projects/GoWatch/pages/index.tsx"],"sourcesContent":["import App from '../src/App';\r\n\r\nexport default function Home() {\r\n  return <App />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,qBAAO,iLAAC,yIAAG;;;;;AACb;KAFwB"}},
    {"offset": {"line": 6587, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/entry/page-loader.ts"],"sourcesContent":["const PAGE_PATH = \"/\";\n\n/// <reference types=\"next/client\" />\r\n\r\n// inserted by rust code\r\ndeclare const PAGE_PATH: string\r\n\r\n  // Adapted from https://github.com/vercel/next.js/blob/b7f9f1f98fc8ab602e84825105b5727272b72e7d/packages/next/src/build/webpack/loaders/next-client-pages-loader.ts\r\n;(window.__NEXT_P = window.__NEXT_P || []).push([\r\n  PAGE_PATH,\r\n  () => {\r\n    return require('PAGE')\r\n  },\r\n])\r\n// @ts-expect-error module.hot exists\r\nif (module.hot) {\r\n  // @ts-expect-error module.hot exists\r\n  module.hot.dispose(function () {\r\n    window.__NEXT_P.push([PAGE_PATH])\r\n  })\r\n}\r\n"],"names":[],"mappings":"AAAA,MAAM,YAAY;AAQjB,CAAC,OAAO,QAAQ,GAAG,OAAO,QAAQ,IAAI,EAAE,EAAE,IAAI,CAAC;IAC9C;IACA;QACE;IACF;CACD;AACD,qCAAqC;AACrC,IAAI,OAAO,GAAG,EAAE;IACd,qCAAqC;IACrC,OAAO,GAAG,CAAC,OAAO,CAAC;QACjB,OAAO,QAAQ,CAAC,IAAI,CAAC;YAAC;SAAU;IAClC;AACF","ignoreList":[0]}}]
}